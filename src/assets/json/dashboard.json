[
    {
        "title": "Vital Signs",
        "left": "Latest data as of: %summary-daily.loaded-time%",
        "right": "<span>Source: <a href=\"https://www.cbn.gov.ng/rates/FinancialData.asp\" target=\"_blank\">CBN Public Financials</a></span>",
        "carousel": true,
        "elements": [
            {
                "id": "atm-speedo",
                "title": "Average ATM Value",
                "type": "visualization",
                "classes": "col-9 col-sm-6 col-md-4 col-lg-4",
                "toolbar": [
                    {
                        "icon": "fas fa-info-circle",
                        "tooltip": "This speedometer indicates the average transaction value for channel."
                    }
                ],
                "components": [
                    {
                        "id": "speedo",
                        "title": "ATM Failure Rate",
                        "type": "speedometer",
                        "showLoading": true,
                        "showError": true,
                        "dataRefs": [
                            {
                                "dataSourceId": "bigquery-api",
                                "operationId": "jobs.query",
                                "parameters": {
                                    "projectId": "nfs-maps",
                                    "prettyPrint": "false",
                                    "Authorization": "Bearer {bigquery-authorization}"
                                },
                                "requestBody": {
                                    "query": "SELECT date_trunc(date, MONTH) date, sum(num_atm_transactions) num_atm_transactions, sum(val_naira_billion_atm_transactions) val_naira_billion_atm_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date",
                                    "queryParameters": [
                                        {
                                            "parameterType": {
                                                "type": "DATE"
                                            },
                                            "parameterValue": {
                                                "value": "2015-01-01"
                                            },
                                            "name": "startDate"
                                        },
                                        {
                                            "parameterType": {
                                                "type": "DATE"
                                            },
                                            "parameterValue": {
                                                "value": "2015-01-01"
                                            },
                                            "name": "endDate"
                                        }
                                    ],
                                    "useLegacySql": "false",
                                    "parameterMode": "NAMED"
                                },
                                "displayValue": "num_atm_transactions / val_naira_billion_atm_transactions"
                            }
                        ],
                        "options": {
                            "maxValue": 140000,
                            "labelFormat": "3.2s",
                            "arcColors": [
                                "#E63B52",
                                "#F59B47",
                                "#87d6c6",
                                "#51BDA2",
                                "#38A086"
                            ]
                        }
                    },
                    {
                        "id": "kpi",
                        "title": "POS Failure Rate vs. Prior Day",
                        "type": "kpi",
                        "dataRefs": [
                            {
                                "dataSourceId": "bigquery-api",
                                "operationId": "jobs.query",
                                "parameters": {
                                    "projectId": "nfs-maps",
                                    "prettyPrint": "false",
                                    "Authorization": "Bearer {bigquery-authorization}"
                                },
                                "requestBody": {
                                    "query": "SELECT date_trunc(date, MONTH) date, sum(num_atm_transactions) num_atm_transactions, sum(val_naira_billion_atm_transactions) val_naira_billion_atm_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date",
                                    "queryParameters": [
                                        {
                                            "parameterType": {
                                                "type": "DATE"
                                            },
                                            "parameterValue": {
                                                "value": "2015-01-01"
                                            },
                                            "name": "startDate"
                                        },
                                        {
                                            "parameterType": {
                                                "type": "DATE"
                                            },
                                            "parameterValue": {
                                                "value": "2015-01-01"
                                            },
                                            "name": "endDate"
                                        }
                                    ],
                                    "useLegacySql": "false",
                                    "parameterMode": "NAMED"
                                },
                                "displayValue": "num_atm_transactions / val_naira_billion_atm_transactions"
                            }
                        ],
                        "options": {
                            "negativeIsBetter":false,
                            "format": ",.2f",
                            "small": "average atm value"
                        }
                    },
                    {
                        "id": "control-group",
                        "type": "group",
                        "components": [
                            {
                                "id": "segmented-control",
                                "title": "Period",
                                "type": "segmented-button",
                                "options": {
                                    "segments": [
                                        {
                                            "title": "Monthly",
                                            "actions": [
                                                {
                                                    "componentId": "speedo",
                                                    "key": "dataRefs[0].requestBody.query",
                                                    "value": "SELECT date_trunc(date, MONTH) date, sum(num_atm_transactions) num_atm_transactions, sum(val_naira_billion_atm_transactions) val_naira_billion_atm_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                },
                                                {
                                                    "componentId": "kpi",
                                                    "key": "dataRefs[0].requestBody.query",
                                                    "value": "SELECT date_trunc(date, MONTH) date, sum(num_atm_transactions) num_atm_transactions, sum(val_naira_billion_atm_transactions) val_naira_billion_atm_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                },
                                                {
                                                    "componentId": "date-control",
                                                    "key": "options.period",
                                                    "value": "month"
                                                }
                                            ]
                                        },
                                        {
                                            "title": "Yearly",
                                            "actions": [
                                                {
                                                    "componentId": "speedo",
                                                    "key": "dataRefs[0].requestBody.query",
                                                    "value": "SELECT date_trunc(date, YEAR) date, sum(num_atm_transactions) num_atm_transactions, sum(val_naira_billion_atm_transactions) val_naira_billion_atm_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                },
                                                {
                                                    "componentId": "kpi",
                                                    "key": "dataRefs[0].requestBody.query",
                                                    "value": "SELECT date_trunc(date, YEAR) date, sum(num_atm_transactions) num_atm_transactions, sum(val_naira_billion_atm_transactions) val_naira_billion_atm_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                },
                                                {
                                                    "componentId": "date-control",
                                                    "key": "options.period",
                                                    "value": "year"
                                                }
                                            ]
                                        }
                                    ]
                                }
                            },
                            {
                                "id": "date-control",
                                "title": "Date",
                                "type": "date-picker",
                                "options": {
                                    "return": "single",
                                    "period": "month",
                                    "initialStart": "2015-01-01",
                                    "actions": [

                                        {
                                            "componentId": "speedo",
                                            "key": "dataRefs[0].requestBody.queryParameters[0].parameterValue.value",
                                            "value": "{startDate}"
                                        },
                                        {
                                            "componentId": "speedo",
                                            "key": "dataRefs[0].requestBody.queryParameters[1].parameterValue.value",
                                            "value": "{startDate}"
                                        },
                                        {
                                            "componentId": "kpi",
                                            "key": "dataRefs[0].requestBody.queryParameters[0].parameterValue.value",
                                            "value": "{startDate}"
                                        },
                                        {
                                            "componentId": "kpi",
                                            "key": "dataRefs[0].requestBody.queryParameters[1].parameterValue.value",
                                            "value": "{startDate}"
                                        }
                                    ]
                                }
                            }
                        ]
                    }
                ]
            },
            {
                "id": "pos-speedo",
                "title": "Average POS Value",
                "type": "visualization",
                "classes": "col-9 col-sm-6 col-md-4 col-lg-4",
                "toolbar": [
                    {
                        "icon": "fas fa-info-circle",
                        "tooltip": "This speedometer indicates the average transaction value for channel."
                    }
                ],
                "components": [
                    {
                        "id": "speedo",
                        "title": "POS Failure Rate",
                        "type": "speedometer",
                        "showLoading": true,
                        "showError": true,
                        "dataRefs": [
                            {
                                "dataSourceId": "bigquery-api",
                                "operationId": "jobs.query",
                                "parameters": {
                                    "projectId": "nfs-maps",
                                    "prettyPrint": "false",
                                    "Authorization": "Bearer {bigquery-authorization}"
                                },
                                "requestBody": {
                                    "query": "SELECT date_trunc(date, MONTH) date, sum(num_pos_transactions) num_pos_transactions, sum(val_naira_billion_pos_transactions) val_naira_billion_pos_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date",
                                    "queryParameters": [
                                        {
                                            "parameterType": {
                                                "type": "DATE"
                                            },
                                            "parameterValue": {
                                                "value": "2015-01-01"
                                            },
                                            "name": "startDate"
                                        },
                                        {
                                            "parameterType": {
                                                "type": "DATE"
                                            },
                                            "parameterValue": {
                                                "value": "2015-01-01"
                                            },
                                            "name": "endDate"
                                        }
                                    ],
                                    "useLegacySql": "false",
                                    "parameterMode": "NAMED"
                                },
                                "displayValue": "num_pos_transactions / val_naira_billion_pos_transactions"
                            }
                        ],
                        "options": {
                            "maxValue": 140000,
                            "labelFormat": "3.2s",
                            "arcColors": [
                                "#E63B52",
                                "#F59B47",
                                "#87d6c6",
                                "#51BDA2",
                                "#38A086"
                            ]
                        }
                    },
                    {
                        "id": "kpi",
                        "title": "POS Failure Rate vs. Prior Day",
                        "type": "kpi",
                        "dataRefs": [
                            {
                                "dataSourceId": "bigquery-api",
                                "operationId": "jobs.query",
                                "parameters": {
                                    "projectId": "nfs-maps",
                                    "prettyPrint": "false",
                                    "Authorization": "Bearer {bigquery-authorization}"
                                },
                                "requestBody": {
                                    "query": "SELECT date_trunc(date, MONTH) date, sum(num_pos_transactions) num_pos_transactions, sum(val_naira_billion_pos_transactions) val_naira_billion_pos_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date",
                                    "queryParameters": [
                                        {
                                            "parameterType": {
                                                "type": "DATE"
                                            },
                                            "parameterValue": {
                                                "value": "2015-01-01"
                                            },
                                            "name": "startDate"
                                        },
                                        {
                                            "parameterType": {
                                                "type": "DATE"
                                            },
                                            "parameterValue": {
                                                "value": "2015-01-01"
                                            },
                                            "name": "endDate"
                                        }
                                    ],
                                    "useLegacySql": "false",
                                    "parameterMode": "NAMED"
                                },
                                "displayValue": "num_pos_transactions / val_naira_billion_pos_transactions"
                            }
                        ],
                        "options": {
                            "format": ",.2f",
                            "small": "average pos value",
                            "negativeIsBetter":false
                        }
                    },
                    {
                        "id": "control-group",
                        "type": "group",
                        "components": [
                            {
                                "id": "segmented-control",
                                "title": "Period",
                                "type": "segmented-button",
                                "options": {
                                    "segments": [
                                        {
                                            "title": "Monthly",
                                            "actions": [
                                                {
                                                    "componentId": "speedo",
                                                    "key": "dataRefs[0].requestBody.query",
                                                    "value": "SELECT date_trunc(date, MONTH) date, sum(num_pos_transactions) num_pos_transactions, sum(val_naira_billion_pos_transactions) val_naira_billion_pos_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                },
                                                {
                                                    "componentId": "kpi",
                                                    "key": "dataRefs[0].requestBody.query",
                                                    "value": "SELECT date_trunc(date, MONTH) date, sum(num_pos_transactions) num_pos_transactions, sum(val_naira_billion_pos_transactions) val_naira_billion_pos_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                },
                                                {
                                                    "componentId": "date-control",
                                                    "key": "options.period",
                                                    "value": "month"
                                                }
                                            ]
                                        },
                                        {
                                            "title": "Yearly",
                                            "actions": [
                                                {
                                                    "componentId": "speedo",
                                                    "key": "dataRefs[0].requestBody.query",
                                                    "value": "SELECT date_trunc(date, YEAR) date, sum(num_pos_transactions) num_pos_transactions, sum(val_naira_billion_pos_transactions) val_naira_billion_pos_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                },
                                                {
                                                    "componentId": "kpi",
                                                    "key": "dataRefs[0].requestBody.query",
                                                    "value": "SELECT date_trunc(date, YEAR) date, sum(num_pos_transactions) num_pos_transactions, sum(val_naira_billion_pos_transactions) val_naira_billion_pos_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                },
                                                {
                                                    "componentId": "date-control",
                                                    "key": "options.period",
                                                    "value": "year"
                                                }
                                            ]
                                        }
                                    ]
                                }
                            },
                            {
                                "id": "date-control",
                                "title": "Date",
                                "type": "date-picker",
                                "options": {
                                    "return": "single",
                                    "period": "month",
                                    "initialStart": "2015-01-01",
                                    "actions": [
            
                                        {
                                            "componentId": "speedo",
                                            "key": "dataRefs[0].requestBody.queryParameters[0].parameterValue.value",
                                            "value": "{startDate}"
                                        },
                                        {
                                            "componentId": "speedo",
                                            "key": "dataRefs[0].requestBody.queryParameters[1].parameterValue.value",
                                            "value": "{startDate}"
                                        },
                                        {
                                            "componentId": "kpi",
                                            "key": "dataRefs[0].requestBody.queryParameters[0].parameterValue.value",
                                            "value": "{startDate}"
                                        },
                                        {
                                            "componentId": "kpi",
                                            "key": "dataRefs[0].requestBody.queryParameters[1].parameterValue.value",
                                            "value": "{startDate}"
                                        }
                                    ]
                                }
                            }
                        ]
                    }
                ]
            },
            {
                "id": "cheque-speedo",
                "title": "Average Cheque Value",
                "type": "visualization",
                "classes": "col-9 col-sm-6 col-md-4 col-lg-4",
                "toolbar": [
                    {
                        "icon": "fas fa-info-circle",
                        "tooltip": "This speedometer indicates the average transaction value for channel."
                    }
                ],
                "components": [
                    {
                        "id": "speedo",
                        "title": "Cheque Failure Rate",
                        "type": "speedometer",
                        "showLoading": true,
                        "showError": true,
                        "dataRefs": [
                            {
                                "dataSourceId": "bigquery-api",
                                "operationId": "jobs.query",
                                "parameters": {
                                    "projectId": "nfs-maps",
                                    "prettyPrint": "false",
                                    "Authorization": "Bearer {bigquery-authorization}"
                                },
                                "requestBody": {
                                    "query": "SELECT date_trunc(date, MONTH) date, sum(num_cheque_transactions) num_cheque_transactions, sum(val_naira_billion_cheque_transactions) val_naira_billion_cheque_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date",
                                    "queryParameters": [
                                        {
                                            "parameterType": {
                                                "type": "DATE"
                                            },
                                            "parameterValue": {
                                                "value": "2015-01-01"
                                            },
                                            "name": "startDate"
                                        },
                                        {
                                            "parameterType": {
                                                "type": "DATE"
                                            },
                                            "parameterValue": {
                                                "value": "2015-01-01"
                                            },
                                            "name": "endDate"
                                        }
                                    ],
                                    "useLegacySql": "false",
                                    "parameterMode": "NAMED"
                                },
                                "displayValue": "num_cheque_transactions / val_naira_billion_cheque_transactions"
                            }
                        ],
                        "options": {
                            "maxValue": 3000,
                            "labelFormat": "3.2s",
                            "arcColors": [
                                "#E63B52",
                                "#F59B47",
                                "#87d6c6",
                                "#51BDA2",
                                "#38A086"
                            ]
                        }
                    },
                    {
                        "id": "kpi",
                        "title": "Cheque Failure Rate vs. Prior Day",
                        "type": "kpi",
                        "dataRefs": [
                            {
                                "dataSourceId": "bigquery-api",
                                "operationId": "jobs.query",
                                "parameters": {
                                    "projectId": "nfs-maps",
                                    "prettyPrint": "false",
                                    "Authorization": "Bearer {bigquery-authorization}"
                                },
                                "requestBody": {
                                    "query": "SELECT date_trunc(date, MONTH) date, sum(num_cheque_transactions) num_cheque_transactions, sum(val_naira_billion_cheque_transactions) val_naira_billion_cheque_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date",
                                    "queryParameters": [
                                        {
                                            "parameterType": {
                                                "type": "DATE"
                                            },
                                            "parameterValue": {
                                                "value": "2015-01-01"
                                            },
                                            "name": "startDate"
                                        },
                                        {
                                            "parameterType": {
                                                "type": "DATE"
                                            },
                                            "parameterValue": {
                                                "value": "2015-01-01"
                                            },
                                            "name": "endDate"
                                        }
                                    ],
                                    "useLegacySql": "false",
                                    "parameterMode": "NAMED"
                                },
                                "displayValue": "num_cheque_transactions / val_naira_billion_cheque_transactions"
                            }
                        ],
                        "options": {
                            "format": ",.2f",
                            "small": "average cheque value",
                            "negativeIsBetter":false
                        }
                    },
                    {
                        "id": "control-group",
                        "type": "group",
                        "components": [
                            {
                                "id": "segmented-control",
                                "title": "Period",
                                "type": "segmented-button",
                                "options": {
                                    "segments": [
                                        {
                                            "title": "Monthly",
                                            "actions": [
                                                {
                                                    "componentId": "speedo",
                                                    "key": "dataRefs[0].requestBody.query",
                                                    "value": "SELECT date_trunc(date, MONTH) date, sum(num_cheque_transactions) num_cheque_transactions, sum(val_naira_billion_cheque_transactions) val_naira_billion_cheque_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                },
                                                {
                                                    "componentId": "kpi",
                                                    "key": "dataRefs[0].requestBody.query",
                                                    "value": "SELECT date_trunc(date, MONTH) date, sum(num_cheque_transactions) num_cheque_transactions, sum(val_naira_billion_cheque_transactions) val_naira_billion_cheque_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                },
                                                {
                                                    "componentId": "date-control",
                                                    "key": "options.period",
                                                    "value": "month"
                                                }
                                            ]
                                        },
                                        {
                                            "title": "Yearly",
                                            "actions": [
                                                {
                                                    "componentId": "speedo",
                                                    "key": "dataRefs[0].requestBody.query",
                                                    "value": "SELECT date_trunc(date, YEAR) date, sum(num_cheque_transactions) num_cheque_transactions, sum(val_naira_billion_cheque_transactions) val_naira_billion_cheque_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                },
                                                {
                                                    "componentId": "kpi",
                                                    "key": "dataRefs[0].requestBody.query",
                                                    "value": "SELECT date_trunc(date, YEAR) date, sum(num_cheque_transactions) num_cheque_transactions, sum(val_naira_billion_cheque_transactions) val_naira_billion_cheque_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                },
                                                {
                                                    "componentId": "date-control",
                                                    "key": "options.period",
                                                    "value": "year"
                                                }
                                            ]
                                        }
                                    ]
                                }
                            },
                            {
                                "id": "date-control",
                                "title": "Date",
                                "type": "date-picker",
                                "options": {
                                    "return": "single",
                                    "period": "month",
                                    "initialStart": "2015-01-01",
                                    "actions": [
            
                                        {
                                            "componentId": "speedo",
                                            "key": "dataRefs[0].requestBody.queryParameters[0].parameterValue.value",
                                            "value": "{startDate}"
                                        },
                                        {
                                            "componentId": "speedo",
                                            "key": "dataRefs[0].requestBody.queryParameters[1].parameterValue.value",
                                            "value": "{startDate}"
                                        },
                                        {
                                            "componentId": "kpi",
                                            "key": "dataRefs[0].requestBody.queryParameters[0].parameterValue.value",
                                            "value": "{startDate}"
                                        },
                                        {
                                            "componentId": "kpi",
                                            "key": "dataRefs[0].requestBody.queryParameters[1].parameterValue.value",
                                            "value": "{startDate}"
                                        }
                                    ]
                                }
                            }
                        ]
                    }
                ]
            },
            {
                "id": "nip-speedo",
                "title": "Average NIP Value",
                "type": "visualization",
                "classes": "col-9 col-sm-6 col-md-4 col-lg-4",
                "toolbar": [
                    {
                        "icon": "fas fa-info-circle",
                        "tooltip": "This speedometer indicates the average transaction value for channel."
                    }
                ],
                "components": [
                    {
                        "id": "speedo",
                        "title": "NIP Failure Rate",
                        "type": "speedometer",
                        "showLoading": true,
                        "showError": true,
                        "dataRefs": [
                            {
                                "dataSourceId": "bigquery-api",
                                "operationId": "jobs.query",
                                "parameters": {
                                    "projectId": "nfs-maps",
                                    "prettyPrint": "false",
                                    "Authorization": "Bearer {bigquery-authorization}"
                                },
                                "requestBody": {
                                    "query": "SELECT date_trunc(date, MONTH) date, sum(num_nip_transactions) num_nip_transactions, sum(val_naira_billion_nip_transactions) val_naira_billion_nip_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date",
                                    "queryParameters": [
                                        {
                                            "parameterType": {
                                                "type": "DATE"
                                            },
                                            "parameterValue": {
                                                "value": "2015-01-01"
                                            },
                                            "name": "startDate"
                                        },
                                        {
                                            "parameterType": {
                                                "type": "DATE"
                                            },
                                            "parameterValue": {
                                                "value": "2015-01-01"
                                            },
                                            "name": "endDate"
                                        }
                                    ],
                                    "useLegacySql": "false",
                                    "parameterMode": "NAMED"
                                },
                                "displayValue": "num_nip_transactions / val_naira_billion_nip_transactions"
                            }
                        ],
                        "options": {
                            "maxValue": 4000,
                            "labelFormat": "3.2s",
                            "arcColors": [
                                "#E63B52",
                                "#F59B47",
                                "#87d6c6",
                                "#51BDA2",
                                "#38A086"
                            ]
                        }
                    },
                    {
                        "id": "kpi",
                        "title": "NIP Failure Rate vs. Prior Day",
                        "type": "kpi",
                        "dataRefs": [
                            {
                                "dataSourceId": "bigquery-api",
                                "operationId": "jobs.query",
                                "parameters": {
                                    "projectId": "nfs-maps",
                                    "prettyPrint": "false",
                                    "Authorization": "Bearer {bigquery-authorization}"
                                },
                                "requestBody": {
                                    "query": "SELECT date_trunc(date, MONTH) date, sum(num_nip_transactions) num_nip_transactions, sum(val_naira_billion_nip_transactions) val_naira_billion_nip_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date",
                                    "queryParameters": [
                                        {
                                            "parameterType": {
                                                "type": "DATE"
                                            },
                                            "parameterValue": {
                                                "value": "2015-01-01"
                                            },
                                            "name": "startDate"
                                        },
                                        {
                                            "parameterType": {
                                                "type": "DATE"
                                            },
                                            "parameterValue": {
                                                "value": "2015-01-01"
                                            },
                                            "name": "endDate"
                                        }
                                    ],
                                    "useLegacySql": "false",
                                    "parameterMode": "NAMED"
                                },
                                "displayValue": "num_nip_transactions / val_naira_billion_nip_transactions"
                            }
                        ],
                        "options": {
                            "format": ",.2f",
                            "small": "average nip value",
                            "negativeIsBetter":false
                        }
                    },
                    {
                        "id": "control-group",
                        "type": "group",
                        "components": [
                            {
                                "id": "segmented-control",
                                "title": "Period",
                                "type": "segmented-button",
                                "options": {
                                    "segments": [
                                        {
                                            "title": "Monthly",
                                            "actions": [
                                                {
                                                    "componentId": "speedo",
                                                    "key": "dataRefs[0].requestBody.query",
                                                    "value": "SELECT date_trunc(date, MONTH) date, sum(num_nip_transactions) num_nip_transactions, sum(val_naira_billion_nip_transactions) val_naira_billion_nip_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                },
                                                {
                                                    "componentId": "kpi",
                                                    "key": "dataRefs[0].requestBody.query",
                                                    "value": "SELECT date_trunc(date, MONTH) date, sum(num_nip_transactions) num_nip_transactions, sum(val_naira_billion_nip_transactions) val_naira_billion_nip_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                },
                                                {
                                                    "componentId": "date-control",
                                                    "key": "options.period",
                                                    "value": "month"
                                                }
                                            ]
                                        },
                                        {
                                            "title": "Yearly",
                                            "actions": [
                                                {
                                                    "componentId": "speedo",
                                                    "key": "dataRefs[0].requestBody.query",
                                                    "value": "SELECT date_trunc(date, YEAR) date, sum(num_nip_transactions) num_nip_transactions, sum(val_naira_billion_nip_transactions) val_naira_billion_nip_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                },
                                                {
                                                    "componentId": "kpi",
                                                    "key": "dataRefs[0].requestBody.query",
                                                    "value": "SELECT date_trunc(date, YEAR) date, sum(num_nip_transactions) num_nip_transactions, sum(val_naira_billion_nip_transactions) val_naira_billion_nip_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                },
                                                {
                                                    "componentId": "date-control",
                                                    "key": "options.period",
                                                    "value": "year"
                                                }
                                            ]
                                        }
                                    ]
                                }
                            },
                            {
                                "id": "date-control",
                                "title": "Date",
                                "type": "date-picker",
                                "options": {
                                    "return": "single",
                                    "period": "month",
                                    "initialStart": "2015-01-01",
                                    "actions": [
            
                                        {
                                            "componentId": "speedo",
                                            "key": "dataRefs[0].requestBody.queryParameters[0].parameterValue.value",
                                            "value": "{startDate}"
                                        },
                                        {
                                            "componentId": "speedo",
                                            "key": "dataRefs[0].requestBody.queryParameters[1].parameterValue.value",
                                            "value": "{startDate}"
                                        },
                                        {
                                            "componentId": "kpi",
                                            "key": "dataRefs[0].requestBody.queryParameters[0].parameterValue.value",
                                            "value": "{startDate}"
                                        },
                                        {
                                            "componentId": "kpi",
                                            "key": "dataRefs[0].requestBody.queryParameters[1].parameterValue.value",
                                            "value": "{startDate}"
                                        }
                                    ]
                                }
                            }
                        ]
                    }
                ]
            },
            {
                "id": "neft-speedo",
                "title": "Average NEFT Value",
                "type": "visualization",
                "classes": "col-9 col-sm-6 col-md-4 col-lg-4",
                "toolbar": [
                    {
                        "icon": "fas fa-info-circle",
                        "tooltip": "This speedometer indicates the average transaction value for channel."
                    }
                ],
                "components": [
                    {
                        "id": "speedo",
                        "title": "NEFT Failure Rate",
                        "type": "speedometer",
                        "showLoading": true,
                        "showError": true,
                        "dataRefs": [
                            {
                                "dataSourceId": "bigquery-api",
                                "operationId": "jobs.query",
                                "parameters": {
                                    "projectId": "nfs-maps",
                                    "prettyPrint": "false",
                                    "Authorization": "Bearer {bigquery-authorization}"
                                },
                                "requestBody": {
                                    "query": "SELECT date_trunc(date, MONTH) date, sum(num_neft_transactions) num_neft_transactions, sum(val_naira_billion_neft_transactions) val_naira_billion_neft_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date",
                                    "queryParameters": [
                                        {
                                            "parameterType": {
                                                "type": "DATE"
                                            },
                                            "parameterValue": {
                                                "value": "2015-01-01"
                                            },
                                            "name": "startDate"
                                        },
                                        {
                                            "parameterType": {
                                                "type": "DATE"
                                            },
                                            "parameterValue": {
                                                "value": "2015-01-01"
                                            },
                                            "name": "endDate"
                                        }
                                    ],
                                    "useLegacySql": "false",
                                    "parameterMode": "NAMED"
                                },
                                "displayValue": "num_neft_transactions / val_naira_billion_neft_transactions"
                            }
                        ],
                        "options": {
                            "maxValue": 3000,
                            "labelFormat": "3.2s",
                            "arcColors": [
                                "#E63B52",
                                "#F59B47",
                                "#87d6c6",
                                "#51BDA2",
                                "#38A086"
                            ]
                        }
                    },
                    {
                        "id": "kpi",
                        "title": "NEFT Failure Rate vs. Prior Day",
                        "type": "kpi",
                        "dataRefs": [
                            {
                                "dataSourceId": "bigquery-api",
                                "operationId": "jobs.query",
                                "parameters": {
                                    "projectId": "nfs-maps",
                                    "prettyPrint": "false",
                                    "Authorization": "Bearer {bigquery-authorization}"
                                },
                                "requestBody": {
                                    "query": "SELECT date_trunc(date, MONTH) date, sum(num_neft_transactions) num_neft_transactions, sum(val_naira_billion_neft_transactions) val_naira_billion_neft_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date",
                                    "queryParameters": [
                                        {
                                            "parameterType": {
                                                "type": "DATE"
                                            },
                                            "parameterValue": {
                                                "value": "2015-01-01"
                                            },
                                            "name": "startDate"
                                        },
                                        {
                                            "parameterType": {
                                                "type": "DATE"
                                            },
                                            "parameterValue": {
                                                "value": "2015-01-01"
                                            },
                                            "name": "endDate"
                                        }
                                    ],
                                    "useLegacySql": "false",
                                    "parameterMode": "NAMED"
                                },
                                "displayValue": "num_neft_transactions / val_naira_billion_neft_transactions"
                            }
                        ],
                        "options": {
                            "format": ",.2f",
                            "small": "average neft value",
                            "negativeIsBetter":false
                        }
                    },
                    {
                        "id": "control-group",
                        "type": "group",
                        "components": [
                            {
                                "id": "segmented-control",
                                "title": "Period",
                                "type": "segmented-button",
                                "options": {
                                    "segments": [
                                        {
                                            "title": "Monthly",
                                            "actions": [
                                                {
                                                    "componentId": "speedo",
                                                    "key": "dataRefs[0].requestBody.query",
                                                    "value": "SELECT date_trunc(date, MONTH) date, sum(num_neft_transactions) num_neft_transactions, sum(val_naira_billion_neft_transactions) val_naira_billion_neft_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                },
                                                {
                                                    "componentId": "kpi",
                                                    "key": "dataRefs[0].requestBody.query",
                                                    "value": "SELECT date_trunc(date, MONTH) date, sum(num_neft_transactions) num_neft_transactions, sum(val_naira_billion_neft_transactions) val_naira_billion_neft_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                },
                                                {
                                                    "componentId": "date-control",
                                                    "key": "options.period",
                                                    "value": "month"
                                                }
                                            ]
                                        },
                                        {
                                            "title": "Yearly",
                                            "actions": [
                                                {
                                                    "componentId": "speedo",
                                                    "key": "dataRefs[0].requestBody.query",
                                                    "value": "SELECT date_trunc(date, YEAR) date, sum(num_neft_transactions) num_neft_transactions, sum(val_naira_billion_neft_transactions) val_naira_billion_neft_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                },
                                                {
                                                    "componentId": "kpi",
                                                    "key": "dataRefs[0].requestBody.query",
                                                    "value": "SELECT date_trunc(date, YEAR) date, sum(num_neft_transactions) num_neft_transactions, sum(val_naira_billion_neft_transactions) val_naira_billion_neft_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                },
                                                {
                                                    "componentId": "date-control",
                                                    "key": "options.period",
                                                    "value": "year"
                                                }
                                            ]
                                        }
                                    ]
                                }
                            },
                            {
                                "id": "date-control",
                                "title": "Date",
                                "type": "date-picker",
                                "options": {
                                    "return": "single",
                                    "period": "month",
                                    "initialStart": "2015-01-01",
                                    "actions": [
            
                                        {
                                            "componentId": "speedo",
                                            "key": "dataRefs[0].requestBody.queryParameters[0].parameterValue.value",
                                            "value": "{startDate}"
                                        },
                                        {
                                            "componentId": "speedo",
                                            "key": "dataRefs[0].requestBody.queryParameters[1].parameterValue.value",
                                            "value": "{startDate}"
                                        },
                                        {
                                            "componentId": "kpi",
                                            "key": "dataRefs[0].requestBody.queryParameters[0].parameterValue.value",
                                            "value": "{startDate}"
                                        },
                                        {
                                            "componentId": "kpi",
                                            "key": "dataRefs[0].requestBody.queryParameters[1].parameterValue.value",
                                            "value": "{startDate}"
                                        }
                                    ]
                                }
                            }
                        ]
                    }
                ]
            }, 
            {
                "id": "mobile_payment-speedo",
                "title": "Average mCash Value",
                "type": "visualization",
                "classes": "col-9 col-sm-6 col-md-4 col-lg-4",
                "toolbar": [
                    {
                        "icon": "fas fa-info-circle",
                        "tooltip": "This speedometer indicates the average transaction value for channel."
                    }
                ],
                "components": [
                    {
                        "id": "speedo",
                        "title": "mCash Failure Rate",
                        "type": "speedometer",
                        "showLoading": true,
                        "showError": true,
                        "dataRefs": [
                            {
                                "dataSourceId": "bigquery-api",
                                "operationId": "jobs.query",
                                "parameters": {
                                    "projectId": "nfs-maps",
                                    "prettyPrint": "false",
                                    "Authorization": "Bearer {bigquery-authorization}"
                                },
                                "requestBody": {
                                    "query": "SELECT date_trunc(date, MONTH) date, sum(num_mobile_payment_transactions) num_mobile_payment_transactions, sum(val_naira_billion_mobile_payment_transactions) val_naira_billion_mobile_payment_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date",
                                    "queryParameters": [
                                        {
                                            "parameterType": {
                                                "type": "DATE"
                                            },
                                            "parameterValue": {
                                                "value": "2015-01-01"
                                            },
                                            "name": "startDate"
                                        },
                                        {
                                            "parameterType": {
                                                "type": "DATE"
                                            },
                                            "parameterValue": {
                                                "value": "2015-01-01"
                                            },
                                            "name": "endDate"
                                        }
                                    ],
                                    "useLegacySql": "false",
                                    "parameterMode": "NAMED"
                                },
                                "displayValue": "num_mobile_payment_transactions / val_naira_billion_mobile_payment_transactions"
                            }
                        ],
                        "options": {
                            "maxValue": 140000,
                            "labelFormat": "3.2s",
                            "arcColors": [
                                "#E63B52",
                                "#F59B47",
                                "#87d6c6",
                                "#51BDA2",
                                "#38A086"
                            ]
                        }
                    },
                    {
                        "id": "kpi",
                        "title": "mCash Failure Rate vs. Prior Day",
                        "type": "kpi",
                        "dataRefs": [
                            {
                                "dataSourceId": "bigquery-api",
                                "operationId": "jobs.query",
                                "parameters": {
                                    "projectId": "nfs-maps",
                                    "prettyPrint": "false",
                                    "Authorization": "Bearer {bigquery-authorization}"
                                },
                                "requestBody": {
                                    "query": "SELECT date_trunc(date, MONTH) date, sum(num_mobile_payment_transactions) num_mobile_payment_transactions, sum(val_naira_billion_mobile_payment_transactions) val_naira_billion_mobile_payment_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date",
                                    "queryParameters": [
                                        {
                                            "parameterType": {
                                                "type": "DATE"
                                            },
                                            "parameterValue": {
                                                "value": "2015-01-01"
                                            },
                                            "name": "startDate"
                                        },
                                        {
                                            "parameterType": {
                                                "type": "DATE"
                                            },
                                            "parameterValue": {
                                                "value": "2015-01-01"
                                            },
                                            "name": "endDate"
                                        }
                                    ],
                                    "useLegacySql": "false",
                                    "parameterMode": "NAMED"
                                },
                                "displayValue": "num_mobile_payment_transactions / val_naira_billion_mobile_payment_transactions"
                            }
                        ],
                        "options": {
                            "format": ",.2f",
                            "small": "average mcash value",
                            "negativeIsBetter":false
                        }
                    },
                    {
                        "id": "control-group",
                        "type": "group",
                        "components": [
                            {
                                "id": "segmented-control",
                                "title": "Period",
                                "type": "segmented-button",
                                "options": {
                                    "segments": [
                                        {
                                            "title": "Monthly",
                                            "actions": [
                                                {
                                                    "componentId": "speedo",
                                                    "key": "dataRefs[0].requestBody.query",
                                                    "value": "SELECT date_trunc(date, MONTH) date, sum(num_mobile_payment_transactions) num_mobile_payment_transactions, sum(val_naira_billion_mobile_payment_transactions) val_naira_billion_mobile_payment_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                },
                                                {
                                                    "componentId": "kpi",
                                                    "key": "dataRefs[0].requestBody.query",
                                                    "value": "SELECT date_trunc(date, MONTH) date, sum(num_mobile_payment_transactions) num_mobile_payment_transactions, sum(val_naira_billion_mobile_payment_transactions) val_naira_billion_mobile_payment_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                },
                                                {
                                                    "componentId": "date-control",
                                                    "key": "options.period",
                                                    "value": "month"
                                                }
                                            ]
                                        },
                                        {
                                            "title": "Yearly",
                                            "actions": [
                                                {
                                                    "componentId": "speedo",
                                                    "key": "dataRefs[0].requestBody.query",
                                                    "value": "SELECT date_trunc(date, YEAR) date, sum(num_mobile_payment_transactions) num_mobile_payment_transactions, sum(val_naira_billion_mobile_payment_transactions) val_naira_billion_mobile_payment_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                },
                                                {
                                                    "componentId": "kpi",
                                                    "key": "dataRefs[0].requestBody.query",
                                                    "value": "SELECT date_trunc(date, YEAR) date, sum(num_mobile_payment_transactions) num_mobile_payment_transactions, sum(val_naira_billion_mobile_payment_transactions) val_naira_billion_mobile_payment_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                },
                                                {
                                                    "componentId": "date-control",
                                                    "key": "options.period",
                                                    "value": "year"
                                                }
                                            ]
                                        }
                                    ]
                                }
                            },
                            {
                                "id": "date-control",
                                "title": "Date",
                                "type": "date-picker",
                                "options": {
                                    "return": "single",
                                    "period": "month",
                                    "initialStart": "2015-01-01",
                                    "actions": [
            
                                        {
                                            "componentId": "speedo",
                                            "key": "dataRefs[0].requestBody.queryParameters[0].parameterValue.value",
                                            "value": "{startDate}"
                                        },
                                        {
                                            "componentId": "speedo",
                                            "key": "dataRefs[0].requestBody.queryParameters[1].parameterValue.value",
                                            "value": "{startDate}"
                                        },
                                        {
                                            "componentId": "kpi",
                                            "key": "dataRefs[0].requestBody.queryParameters[0].parameterValue.value",
                                            "value": "{startDate}"
                                        },
                                        {
                                            "componentId": "kpi",
                                            "key": "dataRefs[0].requestBody.queryParameters[1].parameterValue.value",
                                            "value": "{startDate}"
                                        }
                                    ]
                                }
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "title": "Payment Systems Summary",
        "left": "Latest data as of: %summary-daily.loaded-time%",
        "right": "<span>Source: <a href=\"https://www.cbn.gov.ng/rates/FinancialData.asp\" target=\"_blank\">CBN Public Financials</a></span>",
        "carousel": true,
        "elements": [
            {
                "type": "tabs",
                "classes": "col-11 col-sm-11 col-md-9 col-lg-9",
                "tabs": [
                    {
                        "title": "ATM Transactions",
                        "visualization": {
                            "title": "Traditional Transactions",
                            "type": "visualization",
                            "classes": "col-11 col-sm-11 col-md-9 col-lg-9",
                            "toolbar": [
                                {
                                    "icon": "fas fa-info-circle",
                                    "tooltip": "This is where you will learn about ATMs"
                                }
                            ],
                            "components": [
                                {
                                    "id": "atm-graph",
                                    "title": "ATM Summary",
                                    "type": "graph",
                                    "options": {
                                        "mapping": {
                                            "x_data": "0",
                                            "ybar_data": "0",
                                            "yline_data": "1",
                                            "x": "date",
                                            "ybar_value": "num_atm_transactions",
                                            "yline_value": "val_naira_billion_atm_transactions"
                                        },
                                        "$schema": "https://vega.github.io/schema/vega/v5.json",
                                        "width": 400,
                                        "height": 200,
                                        "padding": 5,
                                        "data": [],
                                        "signals": [
                                            {
                                                "name": "tooltip",
                                                "value": {},
                                                "on": [
                                                    {
                                                        "events": "rect:mouseover",
                                                        "update": "datum"
                                                    },
                                                    {
                                                        "events": "rect:mouseout",
                                                        "update": "{}"
                                                    }
                                                ]
                                            }
                                        ],
                                        "scales": [
                                            {
                                                "name": "xscale",
                                                "type": "band",
                                                "domain": {
                                                    "data": "{x_data}",
                                                    "field": "{x}"
                                                },
                                                "range": "width",
                                                "padding": 0.5,
                                                "round": true
                                            },
                                            {
                                                "name": "ybar",
                                                "domain": {
                                                    "data": "{ybar_data}",
                                                    "field": "{ybar_value}"
                                                },
                                                "nice": true,
                                                "range": "height"
                                            },
                                            {
                                                "name": "yline",
                                                "domain": {
                                                    "data": "{yline_data}",
                                                    "field": "{yline_value}"
                                                },
                                                "nice": true,
                                                "range": "height"
                                            }
                                        ],
                                        "resolve": {
                                            "scale": {
                                                "yline": "independent"
                                            }
                                        },
                                        "axes": [
                                            {
                                                "orient": "bottom",
                                                "scale": "xscale",
                                                "labelAngle": -60,
                                                "labelPadding": 5,
                                                "labelAlign": "right",
                                                "labelFont": "sans-serif",
                                                "labelColor": "#676a6c",
                                                "ticks": false,
                                                "domainOpacity": 0
                                            },
                                            {
                                                "orient": "right",
                                                "scale": "ybar",
                                                "labelAlign": "right",
                                                "labelPadding": 70,
                                                "tickCount": 6,
                                                "labelFont": "sans-serif",
                                                "labelColor": "#676a6c",
                                                "ticks": false,
                                                "domainOpacity": 0,
                                                "format": ",.2r",
                                                "title": "Value of Transactions",
                                                "titlePadding": 10,
                                                "titleColor": "#85C5A6"
                                            },
                                            {
                                                "orient": "left",
                                                "scale": "yline",
                                                "labelAlign": "right",
                                                "tickCount": 6,
                                                "labelFont": "sans-serif",
                                                "labelColor": "#676a6c",
                                                "ticks": false,
                                                "domainOpacity": 0,
                                                "title": "Number of Transactions",
                                                "titlePadding": 10,
                                                "titleColor": "rgb(28, 132, 198)"
                                            }
                                        ],
                                        "marks": [
                                            {
                                                "type": "rect",
                                                "from": {
                                                    "data": "{ybar_data}"
                                                },
                                                "encode": {
                                                    "enter": {
                                                        "x": {
                                                            "scale": "xscale",
                                                            "field": "{x}"
                                                        },
                                                        "width": {
                                                            "scale": "xscale",
                                                            "band": 1
                                                        },
                                                        "y": {
                                                            "scale": "ybar",
                                                            "field": "{ybar_value}"
                                                        },
                                                        "y2": {
                                                            "scale": "ybar",
                                                            "value": 0
                                                        }
                                                    },
                                                    "update": {
                                                        "fill": {
                                                            "value": "#BCE0D5"
                                                        }
                                                    },
                                                    "hover": {
                                                        "fill": {
                                                            "value": "red"
                                                        }
                                                    }
                                                }
                                            },
                                            {
                                                "type": "text",
                                                "encode": {
                                                    "enter": {
                                                        "align": {
                                                            "value": "center"
                                                        },
                                                        "baseline": {
                                                            "value": "bottom"
                                                        },
                                                        "fill": {
                                                            "value": "#333"
                                                        }
                                                    },
                                                    "update": {
                                                        "x": {
                                                            "scale": "xscale",
                                                            "signal": "tooltip.date",
                                                            "band": 0.5
                                                        },
                                                        "y": {
                                                            "scale": "ybar",
                                                            "signal": "tooltip.{ybar_value}",
                                                            "offset": -2
                                                        },
                                                        "text": {
                                                            "signal": "tooltip.{ybar_value}"
                                                        },
                                                        "fillOpacity": [
                                                            {
                                                                "test": "datum === tooltip",
                                                                "value": 0
                                                            },
                                                            {
                                                                "value": 1
                                                            }
                                                        ]
                                                    }
                                                }
                                            },
                                            {
                                                "type": "area",
                                                "from": {
                                                    "data": "{yline_data}"
                                                },
                                                "encode": {
                                                    "enter": {
                                                        "x": {
                                                            "scale": "xscale",
                                                            "field": "{x}",
                                                            "offset": 0
                                                        },
                                                        "y": {
                                                            "scale": "yline",
                                                            "field": "{yline_value}"
                                                        },
                                                        "y2": {
                                                            "scale": "yline",
                                                            "value": 0
                                                        }
                                                    },
                                                    "update": {
                                                        "fillOpacity": {
                                                            "value": 0.4
                                                        },
                                                        "fill": {
                                                            "value": "#1c84c6"
                                                        }
                                                    },
                                                    "hover": {}
                                                }
                                            },
                                            {
                                                "type": "line",
                                                "from": {
                                                    "data": "{yline_data}"
                                                },
                                                "encode": {
                                                    "enter": {
                                                        "x": {
                                                            "scale": "xscale",
                                                            "field": "{x}",
                                                            "offset": 0
                                                        },
                                                        "y": {
                                                            "scale": "yline",
                                                            "field": "{yline_value}"
                                                        },
                                                        "y2": {
                                                            "scale": "yline",
                                                            "value": 0
                                                        }
                                                    },
                                                    "update": {
                                                        "fillOpacity": {
                                                            "value": 0.5
                                                        }
                                                    },
                                                    "hover": {
                                                        "fillOpacity": {
                                                            "value": 0.5
                                                        }
                                                    }
                                                }
                                            }
                                        ]
                                    },
                                    "showLoading": true,
                                    "showError": true,
                                    "dataRefs": [
                                        {
                                            "dataSourceId": "bigquery-api",
                                            "operationId": "jobs.query",
                                            "parameters": {
                                                "projectId": "nfs-maps",
                                                "prettyPrint": "false",
                                                "Authorization": "Bearer {bigquery-authorization}"
                                            },
                                            "requestBody": {
                                                "query": "SELECT date_trunc(date, MONTH) date, sum(num_atm_transactions) num_atm_transactions, sum(val_naira_billion_atm_transactions) val_naira_billion_atm_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date",
                                                "queryParameters": [
                                                    {
                                                        "parameterType": {
                                                            "type": "DATE"
                                                        },
                                                        "parameterValue": {
                                                            "value": "2011-01-01"
                                                        },
                                                        "name": "startDate"
                                                    },
                                                    {
                                                        "parameterType": {
                                                            "type": "DATE"
                                                        },
                                                        "parameterValue": {
                                                            "value": "2015-01-01"
                                                        },
                                                        "name": "endDate"
                                                    }
                                                ],
                                                "useLegacySql": "false",
                                                "parameterMode": "NAMED"
                                            },
                                            "displayValue": "num_atm_transactions"
                                        },
                                        {
                                            "dataSourceId": "bigquery-api",
                                            "operationId": "jobs.query",
                                            "parameters": {
                                                "projectId": "nfs-maps",
                                                "prettyPrint": "false",
                                                "Authorization": "Bearer {bigquery-authorization}"
                                            },
                                            "requestBody": {
                                                "query": "SELECT date_trunc(date, MONTH) date, sum(num_atm_transactions) num_atm_transactions, sum(val_naira_billion_atm_transactions) val_naira_billion_atm_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date",
                                                "queryParameters": [
                                                    {
                                                        "parameterType": {
                                                            "type": "DATE"
                                                        },
                                                        "parameterValue": {
                                                            "value": "2011-01-01"
                                                        },
                                                        "name": "startDate"
                                                    },
                                                    {
                                                        "parameterType": {
                                                            "type": "DATE"
                                                        },
                                                        "parameterValue": {
                                                            "value": "2015-01-01"
                                                        },
                                                        "name": "endDate"
                                                    }
                                                ],
                                                "useLegacySql": "false",
                                                "parameterMode": "NAMED"
                                            },
                                            "displayValue": "val_naira_billion_atm_transactions"
                                        }
                                    ]
                                },
                                {
                                    "id": "atm-control-group",
                                    "type": "group",
                                    "components": [
                                        {
                                            "id": "atm-segmented-button",
                                            "title": "Period",
                                            "type": "segmented-button",
                                            "options": {
                                                "segments": [
                                                    {
                                                        "title": "Monthly",
                                                        "actions": [
                                                            {
                                                                "componentId": "atm-table",
                                                                "key": "dataRefs[0].requestBody.query",
                                                                "value": "SELECT date_trunc(date, MONTH) date, sum(num_atm_transactions) num_atm_transactions, sum(val_naira_billion_atm_transactions) val_naira_billion_atm_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                            },
                                                            {
                                                                "componentId": "atm-graph",
                                                                "key": "dataRefs[0].requestBody.query",
                                                                "value": "SELECT date_trunc(date, MONTH) date, sum(num_atm_transactions) num_atm_transactions, sum(val_naira_billion_atm_transactions) val_naira_billion_atm_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                            },
                                                            {
                                                                "componentId": "atm-graph",
                                                                "key": "dataRefs[1].requestBody.query",
                                                                "value": "SELECT date_trunc(date, MONTH) date, sum(num_atm_transactions) num_atm_transactions, sum(val_naira_billion_atm_transactions) val_naira_billion_atm_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                            },
                                                            {
                                                                "componentId": "atm-date-control",
                                                                "key": "options.period",
                                                                "value": "month"
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "title": "Yearly",
                                                        "actions": [
                                                            {
                                                                "componentId": "atm-table",
                                                                "key": "dataRefs[0].requestBody.query",
                                                                "value": "SELECT date_trunc(date, YEAR) date, sum(num_atm_transactions) num_atm_transactions, sum(val_naira_billion_atm_transactions) val_naira_billion_atm_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                            },
                                                            {
                                                                "componentId": "atm-graph",
                                                                "key": "dataRefs[0].requestBody.query",
                                                                "value": "SELECT date_trunc(date, YEAR) date, sum(num_atm_transactions) num_atm_transactions, sum(val_naira_billion_atm_transactions) val_naira_billion_atm_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                            },
                                                            {
                                                                "componentId": "atm-graph",
                                                                "key": "dataRefs[1].requestBody.query",
                                                                "value": "SELECT date_trunc(date, YEAR) date, sum(num_atm_transactions) num_atm_transactions, sum(val_naira_billion_atm_transactions) val_naira_billion_atm_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                            },
                                                            {
                                                                "componentId": "atm-date-control",
                                                                "key": "options.period",
                                                                "value": "year"
                                                            }
                                                        ]
                                                    }
                                                ]
                                            }
                                        },
                                        {
                                            "id": "atm-date-control",
                                            "title": "Date Range",
                                            "type": "date-picker",
                                            "options": {
                                                "return": "range",
                                                "period": "month",
                                                "initialStart": "2011-01",
                                                "initialEnd": "2015-01",
                                                "actions": [
                                                    {
                                                        "componentId": "atm-graph",
                                                        "key": "dataRefs[0].requestBody.queryParameters[0].parameterValue.value",
                                                        "value": "{startDate}"
                                                    },
                                                    {
                                                        "componentId": "atm-graph",
                                                        "key": "dataRefs[0].requestBody.queryParameters[1].parameterValue.value",
                                                        "value": "{endDate}"
                                                    },
                                                    {
                                                        "componentId": "atm-table",
                                                        "key": "dataRefs[0].requestBody.queryParameters[0].parameterValue.value",
                                                        "value": "{startDate}"
                                                    },
                                                    {
                                                        "componentId": "atm-table",
                                                        "key": "dataRefs[0].requestBody.queryParameters[1].parameterValue.value",
                                                        "value": "{endDate}"
                                                    },
                                                    {
                                                        "componentId": "atm-graph",
                                                        "key": "dataRefs[1].requestBody.queryParameters[0].parameterValue.value",
                                                        "value": "{startDate}"
                                                    },
                                                    {
                                                        "componentId": "atm-graph",
                                                        "key": "dataRefs[1].requestBody.queryParameters[1].parameterValue.value",
                                                        "value": "{endDate}"
                                                    }
                                                ]
                                            }
                                        },
                                        {
                                            "id": "atm-dropdown",
                                            "title": "Calculations",
                                            "type": "dropdown",
                                            "options": {
                                                "initialSelectionIndex": 0,
                                                "icon": "fas fa-calculator",
                                                "selections": [
                                                    {
                                                        "title": "Absolute Value",
                                                        "actions": [
                                                            {
                                                                "componentId": "atm-graph",
                                                                "key": "dataRefs[0].calculation",
                                                                "value": null
                                                            },
                                                            {
                                                                "componentId": "atm-graph",
                                                                "key": "dataRefs[1].calculation",
                                                                "value": null
                                                            },
                                                            {
                                                                "componentId": "atm-graph",
                                                                "key": "options.mapping.ybar_value",
                                                                "value": "num_atm_transactions"
                                                            },
                                                            {
                                                                "componentId": "atm-graph",
                                                                "key": "options.mapping.yline_value",
                                                                "value": "val_naira_billion_atm_transactions"
                                                            },
                                                            {
                                                                "componentId": "atm-graph",
                                                                "key": "options.axes[1].format",
                                                                "value": ",.2r"
                                                            },
                                                            {
                                                                "componentId": "atm-graph",
                                                                "key": "options.axes[2].format",
                                                                "value": ",.2r"
                                                            },
                                                            {
                                                                "componentId": "atm-graph",
                                                                "key": "options.axes[1].labelPadding",
                                                                "value": 70
                                                            },
                                                            {
                                                                "componentId": "atm-graph",
                                                                "key": "options.marks[2].encode.update.fill.value",
                                                                "value": "#1c84c6"
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "title": "vs. prior period",
                                                        "actions": [
                                                            {
                                                                "componentId": "atm-graph",
                                                                "key": "dataRefs[0].calculation",
                                                                "value": "percentage_change_vs_prior_day"
                                                            },
                                                            {
                                                                "componentId": "atm-graph",
                                                                "key": "dataRefs[1].calculation",
                                                                "value": "percentage_change_vs_prior_day"
                                                            },
                                                            {
                                                                "componentId": "atm-graph",
                                                                "key": "options.mapping.ybar_value",
                                                                "value": "percentage_change_vs_prior_day"
                                                            },
                                                            {
                                                                "componentId": "atm-graph",
                                                                "key": "options.mapping.yline_value",
                                                                "value": "percentage_change_vs_prior_day"
                                                            },
                                                            {
                                                                "componentId": "atm-graph",
                                                                "key": "options.axes[1].format",
                                                                "value": "%"
                                                            },
                                                            {
                                                                "componentId": "atm-graph",
                                                                "key": "options.axes[2].format",
                                                                "value": "%"
                                                            },
                                                            {
                                                                "componentId": "atm-graph",
                                                                "key": "options.axes[1].labelPadding",
                                                                "value": 30
                                                            },
                                                            {
                                                                "componentId": "atm-graph",
                                                                "key": "options.marks[2].encode.update.fill.value",
                                                                "value": "#1c84c600"
                                                            }
                                                        ]
                                                    }
                                                ]
                                            }
                                        }
                                    ]
                                },
                                {
                                    "id": "atm-table",
                                    "title": "Individual Transactions",
                                    "type": "table",
                                    "options": {
                                        "pageLength": 10,
                                        "columns": [
                                            {
                                                "data": "date",
                                                "className": "dt-body-center",
                                                "columnName": "Date"
                                            },
                                            {
                                                "data": "num_atm_transactions",
                                                "className": "dt-body-right",
                                                "columnName": "Value"
                                            },
                                            {
                                                "data": "val_naira_billion_atm_transactions",
                                                "className": "dt-body-right",
                                                "columnName": "Number Transactions"
                                            }
                                        ]
                                    },
                                    "showLoading": true,
                                    "showError": true,
                                    "dataRefs": [                                                                               {
                                            "dataSourceId": "bigquery-api",
                                            "operationId": "jobs.query",
                                            "parameters": {
                                                "projectId": "nfs-maps",
                                                "prettyPrint": "false",
                                                "Authorization": "Bearer {bigquery-authorization}"
                                            },
                                            "requestBody": {
                                                "query": "SELECT date_trunc(date, MONTH) date, sum(num_atm_transactions) num_atm_transactions, sum(val_naira_billion_atm_transactions) val_naira_billion_atm_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date",
                                                "queryParameters": [
                                                    {
                                                        "parameterType": {
                                                            "type": "DATE"
                                                        },
                                                        "parameterValue": {
                                                            "value": "2011-01-01"
                                                        },
                                                        "name": "startDate"
                                                    },
                                                    {
                                                        "parameterType": {
                                                            "type": "DATE"
                                                        },
                                                        "parameterValue": {
                                                            "value": "2015-01-01"
                                                        },
                                                        "name": "endDate"
                                                    }
                                                ],
                                                "useLegacySql": "false",
                                                "parameterMode": "NAMED"
                                            }
                                        }
                                    ]
                                }
                            ]
                        }
                    },
                    {
                        "title": "POS Transactions",
                        "visualization": {
                            "title": "Traditional Transactions",
                            "type": "visualization",
                            "classes": "col-11 col-sm-11 col-md-9 col-lg-9",
                            "toolbar": [
                                {
                                    "icon": "fas fa-info-circle",
                                    "tooltip": "This is where you will learn about POSs"
                                }
                            ],
                            "components": [
                                {
                                    "id": "pos-graph",
                                    "title": "POS Summary",
                                    "type": "graph",
                                    "options": {
                                        "mapping": {
                                            "x_data": "0",
                                            "ybar_data": "0",
                                            "yline_data": "1",
                                            "x": "date",
                                            "ybar_value": "num_pos_transactions",
                                            "yline_value": "val_naira_billion_pos_transactions"
                                        },
                                        "$schema": "https://vega.github.io/schema/vega/v5.json",
                                        "width": 400,
                                        "height": 200,
                                        "padding": 5,
                                        "data": [],
                                        "signals": [
                                            {
                                                "name": "tooltip",
                                                "value": {},
                                                "on": [
                                                    {
                                                        "events": "rect:mouseover",
                                                        "update": "datum"
                                                    },
                                                    {
                                                        "events": "rect:mouseout",
                                                        "update": "{}"
                                                    }
                                                ]
                                            }
                                        ],
                                        "scales": [
                                            {
                                                "name": "xscale",
                                                "type": "band",
                                                "domain": {
                                                    "data": "{x_data}",
                                                    "field": "{x}"
                                                },
                                                "range": "width",
                                                "padding": 0.5,
                                                "round": true
                                            },
                                            {
                                                "name": "ybar",
                                                "domain": {
                                                    "data": "{ybar_data}",
                                                    "field": "{ybar_value}"
                                                },
                                                "nice": true,
                                                "range": "height"
                                            },
                                            {
                                                "name": "yline",
                                                "domain": {
                                                    "data": "{yline_data}",
                                                    "field": "{yline_value}"
                                                },
                                                "nice": true,
                                                "range": "height"
                                            }
                                        ],
                                        "resolve": {
                                            "scale": {
                                                "yline": "independent"
                                            }
                                        },
                                        "axes": [
                                            {
                                                "orient": "bottom",
                                                "scale": "xscale",
                                                "labelAngle": -60,
                                                "labelPadding": 5,
                                                "labelAlign": "right",
                                                "labelFont": "sans-serif",
                                                "labelColor": "#676a6c",
                                                "ticks": false,
                                                "domainOpacity": 0
                                            },
                                            {
                                                "orient": "right",
                                                "scale": "ybar",
                                                "labelAlign": "right",
                                                "labelPadding": 70,
                                                "tickCount": 6,
                                                "labelFont": "sans-serif",
                                                "labelColor": "#676a6c",
                                                "ticks": false,
                                                "domainOpacity": 0,
                                                "format": ",.2r",
                                                "title": "Value of Transactions",
                                                "titlePadding": 10,
                                                "titleColor": "#85C5A6"
                                            },
                                            {
                                                "orient": "left",
                                                "scale": "yline",
                                                "labelAlign": "right",
                                                "tickCount": 6,
                                                "labelFont": "sans-serif",
                                                "labelColor": "#676a6c",
                                                "ticks": false,
                                                "domainOpacity": 0,
                                                "title": "Number of Transactions",
                                                "titlePadding": 10,
                                                "titleColor": "rgb(28, 132, 198)"
                                            }
                                        ],
                                        "marks": [
                                            {
                                                "type": "rect",
                                                "from": {
                                                    "data": "{ybar_data}"
                                                },
                                                "encode": {
                                                    "enter": {
                                                        "x": {
                                                            "scale": "xscale",
                                                            "field": "{x}"
                                                        },
                                                        "width": {
                                                            "scale": "xscale",
                                                            "band": 1
                                                        },
                                                        "y": {
                                                            "scale": "ybar",
                                                            "field": "{ybar_value}"
                                                        },
                                                        "y2": {
                                                            "scale": "ybar",
                                                            "value": 0
                                                        }
                                                    },
                                                    "update": {
                                                        "fill": {
                                                            "value": "#BCE0D5"
                                                        }
                                                    },
                                                    "hover": {
                                                        "fill": {
                                                            "value": "red"
                                                        }
                                                    }
                                                }
                                            },
                                            {
                                                "type": "text",
                                                "encode": {
                                                    "enter": {
                                                        "align": {
                                                            "value": "center"
                                                        },
                                                        "baseline": {
                                                            "value": "bottom"
                                                        },
                                                        "fill": {
                                                            "value": "#333"
                                                        }
                                                    },
                                                    "update": {
                                                        "x": {
                                                            "scale": "xscale",
                                                            "signal": "tooltip.date",
                                                            "band": 0.5
                                                        },
                                                        "y": {
                                                            "scale": "ybar",
                                                            "signal": "tooltip.{ybar_value}",
                                                            "offset": -2
                                                        },
                                                        "text": {
                                                            "signal": "tooltip.{ybar_value}"
                                                        },
                                                        "fillOpacity": [
                                                            {
                                                                "test": "datum === tooltip",
                                                                "value": 0
                                                            },
                                                            {
                                                                "value": 1
                                                            }
                                                        ]
                                                    }
                                                }
                                            },
                                            {
                                                "type": "area",
                                                "from": {
                                                    "data": "{yline_data}"
                                                },
                                                "encode": {
                                                    "enter": {
                                                        "x": {
                                                            "scale": "xscale",
                                                            "field": "{x}",
                                                            "offset": 0
                                                        },
                                                        "y": {
                                                            "scale": "yline",
                                                            "field": "{yline_value}"
                                                        },
                                                        "y2": {
                                                            "scale": "yline",
                                                            "value": 0
                                                        }
                                                    },
                                                    "update": {
                                                        "fillOpacity": {
                                                            "value": 0.4
                                                        },
                                                        "fill": {
                                                            "value": "#1c84c6"
                                                        }
                                                    },
                                                    "hover": {}
                                                }
                                            },
                                            {
                                                "type": "line",
                                                "from": {
                                                    "data": "{yline_data}"
                                                },
                                                "encode": {
                                                    "enter": {
                                                        "x": {
                                                            "scale": "xscale",
                                                            "field": "{x}",
                                                            "offset": 0
                                                        },
                                                        "y": {
                                                            "scale": "yline",
                                                            "field": "{yline_value}"
                                                        },
                                                        "y2": {
                                                            "scale": "yline",
                                                            "value": 0
                                                        }
                                                    },
                                                    "update": {
                                                        "fillOpacity": {
                                                            "value": 0.5
                                                        }
                                                    },
                                                    "hover": {
                                                        "fillOpacity": {
                                                            "value": 0.5
                                                        }
                                                    }
                                                }
                                            }
                                        ]
                                    },
                                    "showLoading": true,
                                    "showError": true,
                                    "dataRefs": [
                                        {
                                            "dataSourceId": "bigquery-api",
                                            "operationId": "jobs.query",
                                            "parameters": {
                                                "projectId": "nfs-maps",
                                                "prettyPrint": "false",
                                                "Authorization": "Bearer {bigquery-authorization}"
                                            },
                                            "requestBody": {
                                                "query": "SELECT date_trunc(date, MONTH) date, sum(num_pos_transactions) num_pos_transactions, sum(val_naira_billion_pos_transactions) val_naira_billion_pos_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date",
                                                "queryParameters": [
                                                    {
                                                        "parameterType": {
                                                            "type": "DATE"
                                                        },
                                                        "parameterValue": {
                                                            "value": "2011-01-01"
                                                        },
                                                        "name": "startDate"
                                                    },
                                                    {
                                                        "parameterType": {
                                                            "type": "DATE"
                                                        },
                                                        "parameterValue": {
                                                            "value": "2015-01-01"
                                                        },
                                                        "name": "endDate"
                                                    }
                                                ],
                                                "useLegacySql": "false",
                                                "parameterMode": "NAMED"
                                            },
                                            "displayValue": "num_pos_transactions"
                                        },
                                        {
                                            "dataSourceId": "bigquery-api",
                                            "operationId": "jobs.query",
                                            "parameters": {
                                                "projectId": "nfs-maps",
                                                "prettyPrint": "false",
                                                "Authorization": "Bearer {bigquery-authorization}"
                                            },
                                            "requestBody": {
                                                "query": "SELECT date_trunc(date, MONTH) date, sum(num_pos_transactions) num_pos_transactions, sum(val_naira_billion_pos_transactions) val_naira_billion_pos_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date",
                                                "queryParameters": [
                                                    {
                                                        "parameterType": {
                                                            "type": "DATE"
                                                        },
                                                        "parameterValue": {
                                                            "value": "2011-01-01"
                                                        },
                                                        "name": "startDate"
                                                    },
                                                    {
                                                        "parameterType": {
                                                            "type": "DATE"
                                                        },
                                                        "parameterValue": {
                                                            "value": "2015-01-01"
                                                        },
                                                        "name": "endDate"
                                                    }
                                                ],
                                                "useLegacySql": "false",
                                                "parameterMode": "NAMED"
                                            },
                                            "displayValue": "val_naira_billion_pos_transactions"
                                        }
                                    ]
                                },
                                {
                                    "id": "pos-control-group",
                                    "type": "group",
                                    "components": [
                                        {
                                            "id": "pos-segmented-button",
                                            "title": "Period",
                                            "type": "segmented-button",
                                            "options": {
                                                "segments": [
                                                    {
                                                        "title": "Monthly",
                                                        "actions": [
                                                            {
                                                                "componentId": "pos-table",
                                                                "key": "dataRefs[0].requestBody.query",
                                                                "value": "SELECT date_trunc(date, MONTH) date, sum(num_pos_transactions) num_pos_transactions, sum(val_naira_billion_pos_transactions) val_naira_billion_pos_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                            },
                                                            {
                                                                "componentId": "pos-graph",
                                                                "key": "dataRefs[0].requestBody.query",
                                                                "value": "SELECT date_trunc(date, MONTH) date, sum(num_pos_transactions) num_pos_transactions, sum(val_naira_billion_pos_transactions) val_naira_billion_pos_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                            },
                                                            {
                                                                "componentId": "pos-graph",
                                                                "key": "dataRefs[1].requestBody.query",
                                                                "value": "SELECT date_trunc(date, MONTH) date, sum(num_pos_transactions) num_pos_transactions, sum(val_naira_billion_pos_transactions) val_naira_billion_pos_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                            },
                                                            {
                                                                "componentId": "pos-date-control",
                                                                "key": "options.period",
                                                                "value": "month"
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "title": "Yearly",
                                                        "actions": [
                                                            {
                                                                "componentId": "pos-table",
                                                                "key": "dataRefs[0].requestBody.query",
                                                                "value": "SELECT date_trunc(date, YEAR) date, sum(num_pos_transactions) num_pos_transactions, sum(val_naira_billion_pos_transactions) val_naira_billion_pos_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                            },
                                                            {
                                                                "componentId": "pos-graph",
                                                                "key": "dataRefs[0].requestBody.query",
                                                                "value": "SELECT date_trunc(date, YEAR) date, sum(num_pos_transactions) num_pos_transactions, sum(val_naira_billion_pos_transactions) val_naira_billion_pos_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                            },
                                                            {
                                                                "componentId": "pos-graph",
                                                                "key": "dataRefs[1].requestBody.query",
                                                                "value": "SELECT date_trunc(date, YEAR) date, sum(num_pos_transactions) num_pos_transactions, sum(val_naira_billion_pos_transactions) val_naira_billion_pos_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                            },
                                                            {
                                                                "componentId": "pos-date-control",
                                                                "key": "options.period",
                                                                "value": "year"
                                                            }
                                                        ]
                                                    }
                                                ]
                                            }
                                        },
                                        {
                                            "id": "pos-date-control",
                                            "title": "Date Range",
                                            "type": "date-picker",
                                            "options": {
                                                "return": "range",
                                                "period": "month",
                                                "initialStart": "2011-01",
                                                "initialEnd": "2015-01",
                                                "actions": [
                                                    {
                                                        "componentId": "pos-graph",
                                                        "key": "dataRefs[0].requestBody.queryParameters[0].parameterValue.value",
                                                        "value": "{startDate}"
                                                    },
                                                    {
                                                        "componentId": "pos-graph",
                                                        "key": "dataRefs[0].requestBody.queryParameters[1].parameterValue.value",
                                                        "value": "{endDate}"
                                                    },
                                                    {
                                                        "componentId": "pos-table",
                                                        "key": "dataRefs[0].requestBody.queryParameters[0].parameterValue.value",
                                                        "value": "{startDate}"
                                                    },
                                                    {
                                                        "componentId": "pos-table",
                                                        "key": "dataRefs[0].requestBody.queryParameters[1].parameterValue.value",
                                                        "value": "{endDate}"
                                                    },
                                                    {
                                                        "componentId": "pos-graph",
                                                        "key": "dataRefs[1].requestBody.queryParameters[0].parameterValue.value",
                                                        "value": "{startDate}"
                                                    },
                                                    {
                                                        "componentId": "pos-graph",
                                                        "key": "dataRefs[1].requestBody.queryParameters[1].parameterValue.value",
                                                        "value": "{endDate}"
                                                    }
                                                ]
                                            }
                                        },
                                        {
                                            "id": "pos-dropdown",
                                            "title": "Calculations",
                                            "type": "dropdown",
                                            "options": {
                                                "initialSelectionIndex": 0,
                                                "icon": "fas fa-calculator",
                                                "selections": [
                                                    {
                                                        "title": "Absolute Value",
                                                        "actions": [
                                                            {
                                                                "componentId": "pos-graph",
                                                                "key": "dataRefs[0].calculation",
                                                                "value": null
                                                            },
                                                            {
                                                                "componentId": "pos-graph",
                                                                "key": "dataRefs[1].calculation",
                                                                "value": null
                                                            },
                                                            {
                                                                "componentId": "pos-graph",
                                                                "key": "options.mapping.ybar_value",
                                                                "value": "num_pos_transactions"
                                                            },
                                                            {
                                                                "componentId": "pos-graph",
                                                                "key": "options.mapping.yline_value",
                                                                "value": "val_naira_billion_pos_transactions"
                                                            },
                                                            {
                                                                "componentId": "pos-graph",
                                                                "key": "options.axes[1].format",
                                                                "value": ",.2r"
                                                            },
                                                            {
                                                                "componentId": "pos-graph",
                                                                "key": "options.axes[2].format",
                                                                "value": ",.2r"
                                                            },
                                                            {
                                                                "componentId": "pos-graph",
                                                                "key": "options.axes[1].labelPadding",
                                                                "value": 70
                                                            },
                                                            {
                                                                "componentId": "pos-graph",
                                                                "key": "options.marks[2].encode.update.fill.value",
                                                                "value": "#1c84c6"
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "title": "vs. prior period",
                                                        "actions": [
                                                            {
                                                                "componentId": "pos-graph",
                                                                "key": "dataRefs[0].calculation",
                                                                "value": "percentage_change_vs_prior_day"
                                                            },
                                                            {
                                                                "componentId": "pos-graph",
                                                                "key": "dataRefs[1].calculation",
                                                                "value": "percentage_change_vs_prior_day"
                                                            },
                                                            {
                                                                "componentId": "pos-graph",
                                                                "key": "options.mapping.ybar_value",
                                                                "value": "percentage_change_vs_prior_day"
                                                            },
                                                            {
                                                                "componentId": "pos-graph",
                                                                "key": "options.mapping.yline_value",
                                                                "value": "percentage_change_vs_prior_day"
                                                            },
                                                            {
                                                                "componentId": "pos-graph",
                                                                "key": "options.axes[1].format",
                                                                "value": "%"
                                                            },
                                                            {
                                                                "componentId": "pos-graph",
                                                                "key": "options.axes[2].format",
                                                                "value": "%"
                                                            },
                                                            {
                                                                "componentId": "pos-graph",
                                                                "key": "options.axes[1].labelPadding",
                                                                "value": 30
                                                            },
                                                            {
                                                                "componentId": "pos-graph",
                                                                "key": "options.marks[2].encode.update.fill.value",
                                                                "value": "#1c84c600"
                                                            }
                                                        ]
                                                    }
                                                ]
                                            }
                                        }
                                    ]
                                },
                                {
                                    "id": "pos-table",
                                    "title": "Individual Transactions",
                                    "type": "table",
                                    "options": {
                                        "pageLength": 10,
                                        "columns": [
                                            {
                                                "data": "date",
                                                "className": "dt-body-center",
                                                "columnName": "Date"
                                            },
                                            {
                                                "data": "num_pos_transactions",
                                                "className": "dt-body-right",
                                                "columnName": "Value"
                                            },
                                            {
                                                "data": "val_naira_billion_pos_transactions",
                                                "className": "dt-body-right",
                                                "columnName": "Number Transactions"
                                            }
                                        ]
                                    },
                                    "showLoading": true,
                                    "showError": true,
                                    "dataRefs": [                                                                               {
                                            "dataSourceId": "bigquery-api",
                                            "operationId": "jobs.query",
                                            "parameters": {
                                                "projectId": "nfs-maps",
                                                "prettyPrint": "false",
                                                "Authorization": "Bearer {bigquery-authorization}"
                                            },
                                            "requestBody": {
                                                "query": "SELECT date_trunc(date, MONTH) date, sum(num_pos_transactions) num_pos_transactions, sum(val_naira_billion_pos_transactions) val_naira_billion_pos_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date",
                                                "queryParameters": [
                                                    {
                                                        "parameterType": {
                                                            "type": "DATE"
                                                        },
                                                        "parameterValue": {
                                                            "value": "2011-01-01"
                                                        },
                                                        "name": "startDate"
                                                    },
                                                    {
                                                        "parameterType": {
                                                            "type": "DATE"
                                                        },
                                                        "parameterValue": {
                                                            "value": "2015-01-01"
                                                        },
                                                        "name": "endDate"
                                                    }
                                                ],
                                                "useLegacySql": "false",
                                                "parameterMode": "NAMED"
                                            }
                                        }
                                    ]
                                }
                            ]
                        }
                    },
                    {
                        "title": "Cheque Transactions",
                        "visualization": {
                            "title": "Traditional Transactions",
                            "type": "visualization",
                            "classes": "col-11 col-sm-11 col-md-9 col-lg-9",
                            "toolbar": [
                                {
                                    "icon": "fas fa-info-circle",
                                    "tooltip": "This is where you will learn about Cheques"
                                }
                            ],
                            "components": [
                                {
                                    "id": "cheque-graph",
                                    "title": "Cheque Summary",
                                    "type": "graph",
                                    "options": {
                                        "mapping": {
                                            "x_data": "0",
                                            "ybar_data": "0",
                                            "yline_data": "1",
                                            "x": "date",
                                            "ybar_value": "num_cheque_transactions",
                                            "yline_value": "val_naira_billion_cheque_transactions"
                                        },
                                        "$schema": "https://vega.github.io/schema/vega/v5.json",
                                        "width": 400,
                                        "height": 200,
                                        "padding": 5,
                                        "data": [],
                                        "signals": [
                                            {
                                                "name": "tooltip",
                                                "value": {},
                                                "on": [
                                                    {
                                                        "events": "rect:mouseover",
                                                        "update": "datum"
                                                    },
                                                    {
                                                        "events": "rect:mouseout",
                                                        "update": "{}"
                                                    }
                                                ]
                                            }
                                        ],
                                        "scales": [
                                            {
                                                "name": "xscale",
                                                "type": "band",
                                                "domain": {
                                                    "data": "{x_data}",
                                                    "field": "{x}"
                                                },
                                                "range": "width",
                                                "padding": 0.5,
                                                "round": true
                                            },
                                            {
                                                "name": "ybar",
                                                "domain": {
                                                    "data": "{ybar_data}",
                                                    "field": "{ybar_value}"
                                                },
                                                "nice": true,
                                                "range": "height"
                                            },
                                            {
                                                "name": "yline",
                                                "domain": {
                                                    "data": "{yline_data}",
                                                    "field": "{yline_value}"
                                                },
                                                "nice": true,
                                                "range": "height"
                                            }
                                        ],
                                        "resolve": {
                                            "scale": {
                                                "yline": "independent"
                                            }
                                        },
                                        "axes": [
                                            {
                                                "orient": "bottom",
                                                "scale": "xscale",
                                                "labelAngle": -60,
                                                "labelPadding": 5,
                                                "labelAlign": "right",
                                                "labelFont": "sans-serif",
                                                "labelColor": "#676a6c",
                                                "ticks": false,
                                                "domainOpacity": 0
                                            },
                                            {
                                                "orient": "right",
                                                "scale": "ybar",
                                                "labelAlign": "right",
                                                "labelPadding": 70,
                                                "tickCount": 6,
                                                "labelFont": "sans-serif",
                                                "labelColor": "#676a6c",
                                                "ticks": false,
                                                "domainOpacity": 0,
                                                "format": ",.2r",
                                                "title": "Value of Transactions",
                                                "titlePadding": 10,
                                                "titleColor": "#85C5A6"
                                            },
                                            {
                                                "orient": "left",
                                                "scale": "yline",
                                                "labelAlign": "right",
                                                "tickCount": 6,
                                                "labelFont": "sans-serif",
                                                "labelColor": "#676a6c",
                                                "ticks": false,
                                                "domainOpacity": 0,
                                                "title": "Number of Transactions",
                                                "titlePadding": 10,
                                                "titleColor": "rgb(28, 132, 198)"
                                            }
                                        ],
                                        "marks": [
                                            {
                                                "type": "rect",
                                                "from": {
                                                    "data": "{ybar_data}"
                                                },
                                                "encode": {
                                                    "enter": {
                                                        "x": {
                                                            "scale": "xscale",
                                                            "field": "{x}"
                                                        },
                                                        "width": {
                                                            "scale": "xscale",
                                                            "band": 1
                                                        },
                                                        "y": {
                                                            "scale": "ybar",
                                                            "field": "{ybar_value}"
                                                        },
                                                        "y2": {
                                                            "scale": "ybar",
                                                            "value": 0
                                                        }
                                                    },
                                                    "update": {
                                                        "fill": {
                                                            "value": "#BCE0D5"
                                                        }
                                                    },
                                                    "hover": {
                                                        "fill": {
                                                            "value": "red"
                                                        }
                                                    }
                                                }
                                            },
                                            {
                                                "type": "text",
                                                "encode": {
                                                    "enter": {
                                                        "align": {
                                                            "value": "center"
                                                        },
                                                        "baseline": {
                                                            "value": "bottom"
                                                        },
                                                        "fill": {
                                                            "value": "#333"
                                                        }
                                                    },
                                                    "update": {
                                                        "x": {
                                                            "scale": "xscale",
                                                            "signal": "tooltip.date",
                                                            "band": 0.5
                                                        },
                                                        "y": {
                                                            "scale": "ybar",
                                                            "signal": "tooltip.{ybar_value}",
                                                            "offset": -2
                                                        },
                                                        "text": {
                                                            "signal": "tooltip.{ybar_value}"
                                                        },
                                                        "fillOpacity": [
                                                            {
                                                                "test": "datum === tooltip",
                                                                "value": 0
                                                            },
                                                            {
                                                                "value": 1
                                                            }
                                                        ]
                                                    }
                                                }
                                            },
                                            {
                                                "type": "area",
                                                "from": {
                                                    "data": "{yline_data}"
                                                },
                                                "encode": {
                                                    "enter": {
                                                        "x": {
                                                            "scale": "xscale",
                                                            "field": "{x}",
                                                            "offset": 0
                                                        },
                                                        "y": {
                                                            "scale": "yline",
                                                            "field": "{yline_value}"
                                                        },
                                                        "y2": {
                                                            "scale": "yline",
                                                            "value": 0
                                                        }
                                                    },
                                                    "update": {
                                                        "fillOpacity": {
                                                            "value": 0.4
                                                        },
                                                        "fill": {
                                                            "value": "#1c84c6"
                                                        }
                                                    },
                                                    "hover": {}
                                                }
                                            },
                                            {
                                                "type": "line",
                                                "from": {
                                                    "data": "{yline_data}"
                                                },
                                                "encode": {
                                                    "enter": {
                                                        "x": {
                                                            "scale": "xscale",
                                                            "field": "{x}",
                                                            "offset": 0
                                                        },
                                                        "y": {
                                                            "scale": "yline",
                                                            "field": "{yline_value}"
                                                        },
                                                        "y2": {
                                                            "scale": "yline",
                                                            "value": 0
                                                        }
                                                    },
                                                    "update": {
                                                        "fillOpacity": {
                                                            "value": 0.5
                                                        }
                                                    },
                                                    "hover": {
                                                        "fillOpacity": {
                                                            "value": 0.5
                                                        }
                                                    }
                                                }
                                            }
                                        ]
                                    },
                                    "showLoading": true,
                                    "showError": true,
                                    "dataRefs": [
                                        {
                                            "dataSourceId": "bigquery-api",
                                            "operationId": "jobs.query",
                                            "parameters": {
                                                "projectId": "nfs-maps",
                                                "prettyPrint": "false",
                                                "Authorization": "Bearer {bigquery-authorization}"
                                            },
                                            "requestBody": {
                                                "query": "SELECT date_trunc(date, MONTH) date, sum(num_cheque_transactions) num_cheque_transactions, sum(val_naira_billion_cheque_transactions) val_naira_billion_cheque_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date",
                                                "queryParameters": [
                                                    {
                                                        "parameterType": {
                                                            "type": "DATE"
                                                        },
                                                        "parameterValue": {
                                                            "value": "2011-01-01"
                                                        },
                                                        "name": "startDate"
                                                    },
                                                    {
                                                        "parameterType": {
                                                            "type": "DATE"
                                                        },
                                                        "parameterValue": {
                                                            "value": "2015-01-01"
                                                        },
                                                        "name": "endDate"
                                                    }
                                                ],
                                                "useLegacySql": "false",
                                                "parameterMode": "NAMED"
                                            },
                                            "displayValue": "num_cheque_transactions"
                                        },
                                        {
                                            "dataSourceId": "bigquery-api",
                                            "operationId": "jobs.query",
                                            "parameters": {
                                                "projectId": "nfs-maps",
                                                "prettyPrint": "false",
                                                "Authorization": "Bearer {bigquery-authorization}"
                                            },
                                            "requestBody": {
                                                "query": "SELECT date_trunc(date, MONTH) date, sum(num_cheque_transactions) num_cheque_transactions, sum(val_naira_billion_cheque_transactions) val_naira_billion_cheque_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date",
                                                "queryParameters": [
                                                    {
                                                        "parameterType": {
                                                            "type": "DATE"
                                                        },
                                                        "parameterValue": {
                                                            "value": "2011-01-01"
                                                        },
                                                        "name": "startDate"
                                                    },
                                                    {
                                                        "parameterType": {
                                                            "type": "DATE"
                                                        },
                                                        "parameterValue": {
                                                            "value": "2015-01-01"
                                                        },
                                                        "name": "endDate"
                                                    }
                                                ],
                                                "useLegacySql": "false",
                                                "parameterMode": "NAMED"
                                            },
                                            "displayValue": "val_naira_billion_cheque_transactions"
                                        }
                                    ]
                                },
                                {
                                    "id": "cheque-control-group",
                                    "type": "group",
                                    "components": [
                                        {
                                            "id": "cheque-segmented-button",
                                            "title": "Period",
                                            "type": "segmented-button",
                                            "options": {
                                                "segments": [
                                                    {
                                                        "title": "Monthly",
                                                        "actions": [
                                                            {
                                                                "componentId": "cheque-table",
                                                                "key": "dataRefs[0].requestBody.query",
                                                                "value": "SELECT date_trunc(date, MONTH) date, sum(num_cheque_transactions) num_cheque_transactions, sum(val_naira_billion_cheque_transactions) val_naira_billion_cheque_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                            },
                                                            {
                                                                "componentId": "cheque-graph",
                                                                "key": "dataRefs[0].requestBody.query",
                                                                "value": "SELECT date_trunc(date, MONTH) date, sum(num_cheque_transactions) num_cheque_transactions, sum(val_naira_billion_cheque_transactions) val_naira_billion_cheque_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                            },
                                                            {
                                                                "componentId": "cheque-graph",
                                                                "key": "dataRefs[1].requestBody.query",
                                                                "value": "SELECT date_trunc(date, MONTH) date, sum(num_cheque_transactions) num_cheque_transactions, sum(val_naira_billion_cheque_transactions) val_naira_billion_cheque_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                            },
                                                            {
                                                                "componentId": "cheque-date-control",
                                                                "key": "options.period",
                                                                "value": "month"
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "title": "Yearly",
                                                        "actions": [
                                                            {
                                                                "componentId": "cheque-table",
                                                                "key": "dataRefs[0].requestBody.query",
                                                                "value": "SELECT date_trunc(date, YEAR) date, sum(num_cheque_transactions) num_cheque_transactions, sum(val_naira_billion_cheque_transactions) val_naira_billion_cheque_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                            },
                                                            {
                                                                "componentId": "cheque-graph",
                                                                "key": "dataRefs[0].requestBody.query",
                                                                "value": "SELECT date_trunc(date, YEAR) date, sum(num_cheque_transactions) num_cheque_transactions, sum(val_naira_billion_cheque_transactions) val_naira_billion_cheque_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                            },
                                                            {
                                                                "componentId": "cheque-graph",
                                                                "key": "dataRefs[1].requestBody.query",
                                                                "value": "SELECT date_trunc(date, YEAR) date, sum(num_cheque_transactions) num_cheque_transactions, sum(val_naira_billion_cheque_transactions) val_naira_billion_cheque_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                            },                                            
                                                            {
                                                                "componentId": "cheque-date-control",
                                                                "key": "options.period",
                                                                "value": "year"
                                                            }
                                                        ]
                                                    }
                                                ]
                                            }
                                        },
                                        {
                                            "id": "cheque-date-control",
                                            "title": "Date Range",
                                            "type": "date-picker",
                                            "options": {
                                                "return": "range",
                                                "period": "month",
                                                "initialStart": "2011-01",
                                                "initialEnd": "2015-01",
                                                "actions": [
                                                    {
                                                        "componentId": "cheque-graph",
                                                        "key": "dataRefs[0].requestBody.queryParameters[0].parameterValue.value",
                                                        "value": "{startDate}"
                                                    },
                                                    {
                                                        "componentId": "cheque-graph",
                                                        "key": "dataRefs[0].requestBody.queryParameters[1].parameterValue.value",
                                                        "value": "{endDate}"
                                                    },
                                                    {
                                                        "componentId": "cheque-table",
                                                        "key": "dataRefs[0].requestBody.queryParameters[0].parameterValue.value",
                                                        "value": "{startDate}"
                                                    },
                                                    {
                                                        "componentId": "cheque-table",
                                                        "key": "dataRefs[0].requestBody.queryParameters[1].parameterValue.value",
                                                        "value": "{endDate}"
                                                    },
                                                    {
                                                        "componentId": "cheque-graph",
                                                        "key": "dataRefs[1].requestBody.queryParameters[0].parameterValue.value",
                                                        "value": "{startDate}"
                                                    },
                                                    {
                                                        "componentId": "cheque-graph",
                                                        "key": "dataRefs[1].requestBody.queryParameters[1].parameterValue.value",
                                                        "value": "{endDate}"
                                                    }
                                                ]
                                            }
                                        },
                                        {
                                            "id": "cheque-dropdown",
                                            "title": "Calculations",
                                            "type": "dropdown",
                                            "options": {
                                                "initialSelectionIndex": 0,
                                                "icon": "fas fa-calculator",
                                                "selections": [
                                                    {
                                                        "title": "Absolute Value",
                                                        "actions": [
                                                            {
                                                                "componentId": "cheque-graph",
                                                                "key": "dataRefs[0].calculation",
                                                                "value": null
                                                            },
                                                            {
                                                                "componentId": "cheque-graph",
                                                                "key": "dataRefs[1].calculation",
                                                                "value": null
                                                            },
                                                            {
                                                                "componentId": "cheque-graph",
                                                                "key": "options.mapping.ybar_value",
                                                                "value": "num_cheque_transactions"
                                                            },
                                                            {
                                                                "componentId": "cheque-graph",
                                                                "key": "options.mapping.yline_value",
                                                                "value": "val_naira_billion_cheque_transactions"
                                                            },
                                                            {
                                                                "componentId": "cheque-graph",
                                                                "key": "options.axes[1].format",
                                                                "value": ",.2r"
                                                            },
                                                            {
                                                                "componentId": "cheque-graph",
                                                                "key": "options.axes[2].format",
                                                                "value": ",.2r"
                                                            },
                                                            {
                                                                "componentId": "cheque-graph",
                                                                "key": "options.axes[1].labelPadding",
                                                                "value": 70
                                                            },
                                                            {
                                                                "componentId": "cheque-graph",
                                                                "key": "options.marks[2].encode.update.fill.value",
                                                                "value": "#1c84c6"
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "title": "vs. prior period",
                                                        "actions": [
                                                            {
                                                                "componentId": "cheque-graph",
                                                                "key": "dataRefs[0].calculation",
                                                                "value": "percentage_change_vs_prior_day"
                                                            },
                                                            {
                                                                "componentId": "cheque-graph",
                                                                "key": "dataRefs[1].calculation",
                                                                "value": "percentage_change_vs_prior_day"
                                                            },
                                                            {
                                                                "componentId": "cheque-graph",
                                                                "key": "options.mapping.ybar_value",
                                                                "value": "percentage_change_vs_prior_day"
                                                            },
                                                            {
                                                                "componentId": "cheque-graph",
                                                                "key": "options.mapping.yline_value",
                                                                "value": "percentage_change_vs_prior_day"
                                                            },
                                                            {
                                                                "componentId": "cheque-graph",
                                                                "key": "options.axes[1].format",
                                                                "value": "%"
                                                            },
                                                            {
                                                                "componentId": "cheque-graph",
                                                                "key": "options.axes[2].format",
                                                                "value": "%"
                                                            },
                                                            {
                                                                "componentId": "cheque-graph",
                                                                "key": "options.axes[1].labelPadding",
                                                                "value": 30
                                                            },
                                                            {
                                                                "componentId": "cheque-graph",
                                                                "key": "options.marks[2].encode.update.fill.value",
                                                                "value": "#1c84c600"
                                                            }
                                                        ]
                                                    }
                                                ]
                                            }
                                        }
                                    ]
                                },
                                {
                                    "id": "cheque-table",
                                    "title": "Individual Transactions",
                                    "type": "table",
                                    "options": {
                                        "pageLength": 10,
                                        "columns": [
                                            {
                                                "data": "date",
                                                "className": "dt-body-center",
                                                "columnName": "Date"
                                            },
                                            {
                                                "data": "num_cheque_transactions",
                                                "className": "dt-body-right",
                                                "columnName": "Value"
                                            },
                                            {
                                                "data": "val_naira_billion_cheque_transactions",
                                                "className": "dt-body-right",
                                                "columnName": "Number Transactions"
                                            }
                                        ]
                                    },
                                    "showLoading": true,
                                    "showError": true,
                                    "dataRefs": [                                                                               {
                                            "dataSourceId": "bigquery-api",
                                            "operationId": "jobs.query",
                                            "parameters": {
                                                "projectId": "nfs-maps",
                                                "prettyPrint": "false",
                                                "Authorization": "Bearer {bigquery-authorization}"
                                            },
                                            "requestBody": {
                                                "query": "SELECT date_trunc(date, MONTH) date, sum(num_cheque_transactions) num_cheque_transactions, sum(val_naira_billion_cheque_transactions) val_naira_billion_cheque_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date",
                                                "queryParameters": [
                                                    {
                                                        "parameterType": {
                                                            "type": "DATE"
                                                        },
                                                        "parameterValue": {
                                                            "value": "2011-01-01"
                                                        },
                                                        "name": "startDate"
                                                    },
                                                    {
                                                        "parameterType": {
                                                            "type": "DATE"
                                                        },
                                                        "parameterValue": {
                                                            "value": "2015-01-01"
                                                        },
                                                        "name": "endDate"
                                                    }
                                                ],
                                                "useLegacySql": "false",
                                                "parameterMode": "NAMED"
                                            }
                                        }
                                    ]
                                }
                            ]
                        }
                    }
                ]
            },
            {
                "type": "tabs",
                "classes": "col-11 col-sm-11 col-md-9 col-lg-9",
                "tabs": [
                    {
                        "title": "NIP Transactions",
                        "visualization": {
                            "title": "Digital Transactions",
                            "type": "visualization",
                            "classes": "col-11 col-sm-11 col-md-9 col-lg-9",
                            "toolbar": [
                                {
                                    "icon": "fas fa-info-circle",
                                    "tooltip": "This is where you will learn about NIPs"
                                }
                            ],
                            "components": [
                                {
                                    "id": "nip-graph",
                                    "title": "NIP Summary",
                                    "type": "graph",
                                    "options": {
                                        "mapping": {
                                            "x_data": "0",
                                            "ybar_data": "0",
                                            "yline_data": "1",
                                            "x": "date",
                                            "ybar_value": "num_nip_transactions",
                                            "yline_value": "val_naira_billion_nip_transactions"
                                        },
                                        "$schema": "https://vega.github.io/schema/vega/v5.json",
                                        "width": 400,
                                        "height": 200,
                                        "padding": 5,
                                        "data": [],
                                        "signals": [
                                            {
                                                "name": "tooltip",
                                                "value": {},
                                                "on": [
                                                    {
                                                        "events": "rect:mouseover",
                                                        "update": "datum"
                                                    },
                                                    {
                                                        "events": "rect:mouseout",
                                                        "update": "{}"
                                                    }
                                                ]
                                            }
                                        ],
                                        "scales": [
                                            {
                                                "name": "xscale",
                                                "type": "band",
                                                "domain": {
                                                    "data": "{x_data}",
                                                    "field": "{x}"
                                                },
                                                "range": "width",
                                                "padding": 0.5,
                                                "round": true
                                            },
                                            {
                                                "name": "ybar",
                                                "domain": {
                                                    "data": "{ybar_data}",
                                                    "field": "{ybar_value}"
                                                },
                                                "nice": true,
                                                "range": "height"
                                            },
                                            {
                                                "name": "yline",
                                                "domain": {
                                                    "data": "{yline_data}",
                                                    "field": "{yline_value}"
                                                },
                                                "nice": true,
                                                "range": "height"
                                            }
                                        ],
                                        "resolve": {
                                            "scale": {
                                                "yline": "independent"
                                            }
                                        },
                                        "axes": [
                                            {
                                                "orient": "bottom",
                                                "scale": "xscale",
                                                "labelAngle": -60,
                                                "labelPadding": 5,
                                                "labelAlign": "right",
                                                "labelFont": "sans-serif",
                                                "labelColor": "#676a6c",
                                                "ticks": false,
                                                "domainOpacity": 0
                                            },
                                            {
                                                "orient": "right",
                                                "scale": "ybar",
                                                "labelAlign": "right",
                                                "labelPadding": 70,
                                                "tickCount": 6,
                                                "labelFont": "sans-serif",
                                                "labelColor": "#676a6c",
                                                "ticks": false,
                                                "domainOpacity": 0,
                                                "format": ",.2r",
                                                "title": "Value of Transactions",
                                                "titlePadding": 10,
                                                "titleColor": "#85C5A6"
                                            },
                                            {
                                                "orient": "left",
                                                "scale": "yline",
                                                "labelAlign": "right",
                                                "tickCount": 6,
                                                "labelFont": "sans-serif",
                                                "labelColor": "#676a6c",
                                                "ticks": false,
                                                "domainOpacity": 0,
                                                "title": "Number of Transactions",
                                                "titlePadding": 10,
                                                "titleColor": "rgb(28, 132, 198)"
                                            }
                                        ],
                                        "marks": [
                                            {
                                                "type": "rect",
                                                "from": {
                                                    "data": "{ybar_data}"
                                                },
                                                "encode": {
                                                    "enter": {
                                                        "x": {
                                                            "scale": "xscale",
                                                            "field": "{x}"
                                                        },
                                                        "width": {
                                                            "scale": "xscale",
                                                            "band": 1
                                                        },
                                                        "y": {
                                                            "scale": "ybar",
                                                            "field": "{ybar_value}"
                                                        },
                                                        "y2": {
                                                            "scale": "ybar",
                                                            "value": 0
                                                        }
                                                    },
                                                    "update": {
                                                        "fill": {
                                                            "value": "#BCE0D5"
                                                        }
                                                    },
                                                    "hover": {
                                                        "fill": {
                                                            "value": "red"
                                                        }
                                                    }
                                                }
                                            },
                                            {
                                                "type": "text",
                                                "encode": {
                                                    "enter": {
                                                        "align": {
                                                            "value": "center"
                                                        },
                                                        "baseline": {
                                                            "value": "bottom"
                                                        },
                                                        "fill": {
                                                            "value": "#333"
                                                        }
                                                    },
                                                    "update": {
                                                        "x": {
                                                            "scale": "xscale",
                                                            "signal": "tooltip.date",
                                                            "band": 0.5
                                                        },
                                                        "y": {
                                                            "scale": "ybar",
                                                            "signal": "tooltip.{ybar_value}",
                                                            "offset": -2
                                                        },
                                                        "text": {
                                                            "signal": "tooltip.{ybar_value}"
                                                        },
                                                        "fillOpacity": [
                                                            {
                                                                "test": "datum === tooltip",
                                                                "value": 0
                                                            },
                                                            {
                                                                "value": 1
                                                            }
                                                        ]
                                                    }
                                                }
                                            },
                                            {
                                                "type": "area",
                                                "from": {
                                                    "data": "{yline_data}"
                                                },
                                                "encode": {
                                                    "enter": {
                                                        "x": {
                                                            "scale": "xscale",
                                                            "field": "{x}",
                                                            "offset": 0
                                                        },
                                                        "y": {
                                                            "scale": "yline",
                                                            "field": "{yline_value}"
                                                        },
                                                        "y2": {
                                                            "scale": "yline",
                                                            "value": 0
                                                        }
                                                    },
                                                    "update": {
                                                        "fillOpacity": {
                                                            "value": 0.4
                                                        },
                                                        "fill": {
                                                            "value": "#1c84c6"
                                                        }
                                                    },
                                                    "hover": {}
                                                }
                                            },
                                            {
                                                "type": "line",
                                                "from": {
                                                    "data": "{yline_data}"
                                                },
                                                "encode": {
                                                    "enter": {
                                                        "x": {
                                                            "scale": "xscale",
                                                            "field": "{x}",
                                                            "offset": 0
                                                        },
                                                        "y": {
                                                            "scale": "yline",
                                                            "field": "{yline_value}"
                                                        },
                                                        "y2": {
                                                            "scale": "yline",
                                                            "value": 0
                                                        }
                                                    },
                                                    "update": {
                                                        "fillOpacity": {
                                                            "value": 0.5
                                                        }
                                                    },
                                                    "hover": {
                                                        "fillOpacity": {
                                                            "value": 0.5
                                                        }
                                                    }
                                                }
                                            }
                                        ]
                                    },
                                    "showLoading": true,
                                    "showError": true,
                                    "dataRefs": [
                                        {
                                            "dataSourceId": "bigquery-api",
                                            "operationId": "jobs.query",
                                            "parameters": {
                                                "projectId": "nfs-maps",
                                                "prettyPrint": "false",
                                                "Authorization": "Bearer {bigquery-authorization}"
                                            },
                                            "requestBody": {
                                                "query": "SELECT date_trunc(date, MONTH) date, sum(num_nip_transactions) num_nip_transactions, sum(val_naira_billion_nip_transactions) val_naira_billion_nip_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date",
                                                "queryParameters": [
                                                    {
                                                        "parameterType": {
                                                            "type": "DATE"
                                                        },
                                                        "parameterValue": {
                                                            "value": "2011-01-01"
                                                        },
                                                        "name": "startDate"
                                                    },
                                                    {
                                                        "parameterType": {
                                                            "type": "DATE"
                                                        },
                                                        "parameterValue": {
                                                            "value": "2015-01-01"
                                                        },
                                                        "name": "endDate"
                                                    }
                                                ],
                                                "useLegacySql": "false",
                                                "parameterMode": "NAMED"
                                            },
                                            "displayValue": "num_nip_transactions"
                                        },
                                        {
                                            "dataSourceId": "bigquery-api",
                                            "operationId": "jobs.query",
                                            "parameters": {
                                                "projectId": "nfs-maps",
                                                "prettyPrint": "false",
                                                "Authorization": "Bearer {bigquery-authorization}"
                                            },
                                            "requestBody": {
                                                "query": "SELECT date_trunc(date, MONTH) date, sum(num_nip_transactions) num_nip_transactions, sum(val_naira_billion_nip_transactions) val_naira_billion_nip_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date",
                                                "queryParameters": [
                                                    {
                                                        "parameterType": {
                                                            "type": "DATE"
                                                        },
                                                        "parameterValue": {
                                                            "value": "2011-01-01"
                                                        },
                                                        "name": "startDate"
                                                    },
                                                    {
                                                        "parameterType": {
                                                            "type": "DATE"
                                                        },
                                                        "parameterValue": {
                                                            "value": "2015-01-01"
                                                        },
                                                        "name": "endDate"
                                                    }
                                                ],
                                                "useLegacySql": "false",
                                                "parameterMode": "NAMED"
                                            },
                                            "displayValue": "val_naira_billion_nip_transactions"
                                        }
                                    ]
                                },
                                {
                                    "id": "nip-control-group",
                                    "type": "group",
                                    "components": [
                                        {
                                            "id": "nip-segmented-button",
                                            "title": "Period",
                                            "type": "segmented-button",
                                            "options": {
                                                "segments": [
                                                    {
                                                        "title": "Monthly",
                                                        "actions": [
                                                            {
                                                                "componentId": "nip-table",
                                                                "key": "dataRefs[0].requestBody.query",
                                                                "value": "SELECT date_trunc(date, MONTH) date, sum(num_nip_transactions) num_nip_transactions, sum(val_naira_billion_nip_transactions) val_naira_billion_nip_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                            },
                                                            {
                                                                "componentId": "nip-graph",
                                                                "key": "dataRefs[0].requestBody.query",
                                                                "value": "SELECT date_trunc(date, MONTH) date, sum(num_nip_transactions) num_nip_transactions, sum(val_naira_billion_nip_transactions) val_naira_billion_nip_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                            },
                                                            {
                                                                "componentId": "nip-graph",
                                                                "key": "dataRefs[1].requestBody.query",
                                                                "value": "SELECT date_trunc(date, MONTH) date, sum(num_nip_transactions) num_nip_transactions, sum(val_naira_billion_nip_transactions) val_naira_billion_nip_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                            },
                                                            {
                                                                "componentId": "nip-date-control",
                                                                "key": "options.period",
                                                                "value": "month"
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "title": "Yearly",
                                                        "actions": [
                                                            {
                                                                "componentId": "nip-table",
                                                                "key": "dataRefs[0].requestBody.query",
                                                                "value": "SELECT date_trunc(date, YEAR) date, sum(num_nip_transactions) num_nip_transactions, sum(val_naira_billion_nip_transactions) val_naira_billion_nip_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                            },
                                                            {
                                                                "componentId": "nip-graph",
                                                                "key": "dataRefs[0].requestBody.query",
                                                                "value": "SELECT date_trunc(date, YEAR) date, sum(num_nip_transactions) num_nip_transactions, sum(val_naira_billion_nip_transactions) val_naira_billion_nip_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                            },
                                                            {
                                                                "componentId": "nip-graph",
                                                                "key": "dataRefs[1].requestBody.query",
                                                                "value": "SELECT date_trunc(date, YEAR) date, sum(num_nip_transactions) num_nip_transactions, sum(val_naira_billion_nip_transactions) val_naira_billion_nip_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                            },
                                                            {
                                                                "componentId": "nip-date-control",
                                                                "key": "options.period",
                                                                "value": "year"
                                                            }
                                                        ]
                                                    }
                                                ]
                                            }
                                        },
                                        {
                                            "id": "nip-date-control",
                                            "title": "Date Range",
                                            "type": "date-picker",
                                            "options": {
                                                "return": "range",
                                                "period": "month",
                                                "initialStart": "2011-01",
                                                "initialEnd": "2015-01",
                                                "actions": [
                                                    {
                                                        "componentId": "nip-graph",
                                                        "key": "dataRefs[0].requestBody.queryParameters[0].parameterValue.value",
                                                        "value": "{startDate}"
                                                    },
                                                    {
                                                        "componentId": "nip-graph",
                                                        "key": "dataRefs[0].requestBody.queryParameters[1].parameterValue.value",
                                                        "value": "{endDate}"
                                                    },
                                                    {
                                                        "componentId": "nip-table",
                                                        "key": "dataRefs[0].requestBody.queryParameters[0].parameterValue.value",
                                                        "value": "{startDate}"
                                                    },
                                                    {
                                                        "componentId": "nip-table",
                                                        "key": "dataRefs[0].requestBody.queryParameters[1].parameterValue.value",
                                                        "value": "{endDate}"
                                                    },
                                                    {
                                                        "componentId": "nip-graph",
                                                        "key": "dataRefs[1].requestBody.queryParameters[0].parameterValue.value",
                                                        "value": "{startDate}"
                                                    },
                                                    {
                                                        "componentId": "nip-graph",
                                                        "key": "dataRefs[1].requestBody.queryParameters[1].parameterValue.value",
                                                        "value": "{endDate}"
                                                    }
                                                ]
                                            }
                                        },
                                        {
                                            "id": "nip-dropdown",
                                            "title": "Calculations",
                                            "type": "dropdown",
                                            "options": {
                                                "initialSelectionIndex": 0,
                                                "icon": "fas fa-calculator",
                                                "selections": [
                                                    {
                                                        "title": "Absolute Value",
                                                        "actions": [
                                                            {
                                                                "componentId": "nip-graph",
                                                                "key": "dataRefs[0].calculation",
                                                                "value": null
                                                            },
                                                            {
                                                                "componentId": "nip-graph",
                                                                "key": "dataRefs[1].calculation",
                                                                "value": null
                                                            },
                                                            {
                                                                "componentId": "nip-graph",
                                                                "key": "options.mapping.ybar_value",
                                                                "value": "num_nip_transactions"
                                                            },
                                                            {
                                                                "componentId": "nip-graph",
                                                                "key": "options.mapping.yline_value",
                                                                "value": "val_naira_billion_nip_transactions"
                                                            },
                                                            {
                                                                "componentId": "nip-graph",
                                                                "key": "options.axes[1].format",
                                                                "value": ",.2r"
                                                            },
                                                            {
                                                                "componentId": "nip-graph",
                                                                "key": "options.axes[2].format",
                                                                "value": ",.2r"
                                                            },
                                                            {
                                                                "componentId": "nip-graph",
                                                                "key": "options.axes[1].labelPadding",
                                                                "value": 70
                                                            },
                                                            {
                                                                "componentId": "nip-graph",
                                                                "key": "options.marks[2].encode.update.fill.value",
                                                                "value": "#1c84c6"
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "title": "vs. prior period",
                                                        "actions": [
                                                            {
                                                                "componentId": "nip-graph",
                                                                "key": "dataRefs[0].calculation",
                                                                "value": "percentage_change_vs_prior_day"
                                                            },
                                                            {
                                                                "componentId": "nip-graph",
                                                                "key": "dataRefs[1].calculation",
                                                                "value": "percentage_change_vs_prior_day"
                                                            },
                                                            {
                                                                "componentId": "nip-graph",
                                                                "key": "options.mapping.ybar_value",
                                                                "value": "percentage_change_vs_prior_day"
                                                            },
                                                            {
                                                                "componentId": "nip-graph",
                                                                "key": "options.mapping.yline_value",
                                                                "value": "percentage_change_vs_prior_day"
                                                            },
                                                            {
                                                                "componentId": "nip-graph",
                                                                "key": "options.axes[1].format",
                                                                "value": "%"
                                                            },
                                                            {
                                                                "componentId": "nip-graph",
                                                                "key": "options.axes[2].format",
                                                                "value": "%"
                                                            },
                                                            {
                                                                "componentId": "nip-graph",
                                                                "key": "options.axes[1].labelPadding",
                                                                "value": 30
                                                            },
                                                            {
                                                                "componentId": "nip-graph",
                                                                "key": "options.marks[2].encode.update.fill.value",
                                                                "value": "#1c84c600"
                                                            }
                                                        ]
                                                    }
                                                ]
                                            }
                                        }
                                    ]
                                },
                                {
                                    "id": "nip-table",
                                    "title": "Individual Transactions",
                                    "type": "table",
                                    "options": {
                                        "pageLength": 10,
                                        "columns": [
                                            {
                                                "data": "date",
                                                "className": "dt-body-center",
                                                "columnName": "Date"
                                            },
                                            {
                                                "data": "num_nip_transactions",
                                                "className": "dt-body-right",
                                                "columnName": "Value"
                                            },
                                            {
                                                "data": "val_naira_billion_nip_transactions",
                                                "className": "dt-body-right",
                                                "columnName": "Number Transactions"
                                            }
                                        ]
                                    },
                                    "showLoading": true,
                                    "showError": true,
                                    "dataRefs": [                                                                               {
                                            "dataSourceId": "bigquery-api",
                                            "operationId": "jobs.query",
                                            "parameters": {
                                                "projectId": "nfs-maps",
                                                "prettyPrint": "false",
                                                "Authorization": "Bearer {bigquery-authorization}"
                                            },
                                            "requestBody": {
                                                "query": "SELECT date_trunc(date, MONTH) date, sum(num_nip_transactions) num_nip_transactions, sum(val_naira_billion_nip_transactions) val_naira_billion_nip_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date",
                                                "queryParameters": [
                                                    {
                                                        "parameterType": {
                                                            "type": "DATE"
                                                        },
                                                        "parameterValue": {
                                                            "value": "2011-01-01"
                                                        },
                                                        "name": "startDate"
                                                    },
                                                    {
                                                        "parameterType": {
                                                            "type": "DATE"
                                                        },
                                                        "parameterValue": {
                                                            "value": "2015-01-01"
                                                        },
                                                        "name": "endDate"
                                                    }
                                                ],
                                                "useLegacySql": "false",
                                                "parameterMode": "NAMED"
                                            }
                                        }
                                    ]
                                }
                            ]
                        }
                    },
                    {
                        "title": "NEFT Transactions",
                        "visualization": {
                            "title": "Digital Transactions",
                            "type": "visualization",
                            "classes": "col-11 col-sm-11 col-md-9 col-lg-9",
                            "toolbar": [
                                {
                                    "icon": "fas fa-info-circle",
                                    "tooltip": "This is where you will learn about NEFTs"
                                }
                            ],
                            "components": [
                                {
                                    "id": "neft-graph",
                                    "title": "NEFT Summary",
                                    "type": "graph",
                                    "options": {
                                        "mapping": {
                                            "x_data": "0",
                                            "ybar_data": "0",
                                            "yline_data": "1",
                                            "x": "date",
                                            "ybar_value": "num_neft_transactions",
                                            "yline_value": "val_naira_billion_neft_transactions"
                                        },
                                        "$schema": "https://vega.github.io/schema/vega/v5.json",
                                        "width": 400,
                                        "height": 200,
                                        "padding": 5,
                                        "data": [],
                                        "signals": [
                                            {
                                                "name": "tooltip",
                                                "value": {},
                                                "on": [
                                                    {
                                                        "events": "rect:mouseover",
                                                        "update": "datum"
                                                    },
                                                    {
                                                        "events": "rect:mouseout",
                                                        "update": "{}"
                                                    }
                                                ]
                                            }
                                        ],
                                        "scales": [
                                            {
                                                "name": "xscale",
                                                "type": "band",
                                                "domain": {
                                                    "data": "{x_data}",
                                                    "field": "{x}"
                                                },
                                                "range": "width",
                                                "padding": 0.5,
                                                "round": true
                                            },
                                            {
                                                "name": "ybar",
                                                "domain": {
                                                    "data": "{ybar_data}",
                                                    "field": "{ybar_value}"
                                                },
                                                "nice": true,
                                                "range": "height"
                                            },
                                            {
                                                "name": "yline",
                                                "domain": {
                                                    "data": "{yline_data}",
                                                    "field": "{yline_value}"
                                                },
                                                "nice": true,
                                                "range": "height"
                                            }
                                        ],
                                        "resolve": {
                                            "scale": {
                                                "yline": "independent"
                                            }
                                        },
                                        "axes": [
                                            {
                                                "orient": "bottom",
                                                "scale": "xscale",
                                                "labelAngle": -60,
                                                "labelPadding": 5,
                                                "labelAlign": "right",
                                                "labelFont": "sans-serif",
                                                "labelColor": "#676a6c",
                                                "ticks": false,
                                                "domainOpacity": 0
                                            },
                                            {
                                                "orient": "right",
                                                "scale": "ybar",
                                                "labelAlign": "right",
                                                "labelPadding": 70,
                                                "tickCount": 6,
                                                "labelFont": "sans-serif",
                                                "labelColor": "#676a6c",
                                                "ticks": false,
                                                "domainOpacity": 0,
                                                "format": ",.2r",
                                                "title": "Value of Transactions",
                                                "titlePadding": 10,
                                                "titleColor": "#85C5A6"
                                            },
                                            {
                                                "orient": "left",
                                                "scale": "yline",
                                                "labelAlign": "right",
                                                "tickCount": 6,
                                                "labelFont": "sans-serif",
                                                "labelColor": "#676a6c",
                                                "ticks": false,
                                                "domainOpacity": 0,
                                                "title": "Number of Transactions",
                                                "titlePadding": 10,
                                                "titleColor": "rgb(28, 132, 198)"
                                            }
                                        ],
                                        "marks": [
                                            {
                                                "type": "rect",
                                                "from": {
                                                    "data": "{ybar_data}"
                                                },
                                                "encode": {
                                                    "enter": {
                                                        "x": {
                                                            "scale": "xscale",
                                                            "field": "{x}"
                                                        },
                                                        "width": {
                                                            "scale": "xscale",
                                                            "band": 1
                                                        },
                                                        "y": {
                                                            "scale": "ybar",
                                                            "field": "{ybar_value}"
                                                        },
                                                        "y2": {
                                                            "scale": "ybar",
                                                            "value": 0
                                                        }
                                                    },
                                                    "update": {
                                                        "fill": {
                                                            "value": "#BCE0D5"
                                                        }
                                                    },
                                                    "hover": {
                                                        "fill": {
                                                            "value": "red"
                                                        }
                                                    }
                                                }
                                            },
                                            {
                                                "type": "text",
                                                "encode": {
                                                    "enter": {
                                                        "align": {
                                                            "value": "center"
                                                        },
                                                        "baseline": {
                                                            "value": "bottom"
                                                        },
                                                        "fill": {
                                                            "value": "#333"
                                                        }
                                                    },
                                                    "update": {
                                                        "x": {
                                                            "scale": "xscale",
                                                            "signal": "tooltip.date",
                                                            "band": 0.5
                                                        },
                                                        "y": {
                                                            "scale": "ybar",
                                                            "signal": "tooltip.{ybar_value}",
                                                            "offset": -2
                                                        },
                                                        "text": {
                                                            "signal": "tooltip.{ybar_value}"
                                                        },
                                                        "fillOpacity": [
                                                            {
                                                                "test": "datum === tooltip",
                                                                "value": 0
                                                            },
                                                            {
                                                                "value": 1
                                                            }
                                                        ]
                                                    }
                                                }
                                            },
                                            {
                                                "type": "area",
                                                "from": {
                                                    "data": "{yline_data}"
                                                },
                                                "encode": {
                                                    "enter": {
                                                        "x": {
                                                            "scale": "xscale",
                                                            "field": "{x}",
                                                            "offset": 0
                                                        },
                                                        "y": {
                                                            "scale": "yline",
                                                            "field": "{yline_value}"
                                                        },
                                                        "y2": {
                                                            "scale": "yline",
                                                            "value": 0
                                                        }
                                                    },
                                                    "update": {
                                                        "fillOpacity": {
                                                            "value": 0.4
                                                        },
                                                        "fill": {
                                                            "value": "#1c84c6"
                                                        }
                                                    },
                                                    "hover": {}
                                                }
                                            },
                                            {
                                                "type": "line",
                                                "from": {
                                                    "data": "{yline_data}"
                                                },
                                                "encode": {
                                                    "enter": {
                                                        "x": {
                                                            "scale": "xscale",
                                                            "field": "{x}",
                                                            "offset": 0
                                                        },
                                                        "y": {
                                                            "scale": "yline",
                                                            "field": "{yline_value}"
                                                        },
                                                        "y2": {
                                                            "scale": "yline",
                                                            "value": 0
                                                        }
                                                    },
                                                    "update": {
                                                        "fillOpacity": {
                                                            "value": 0.5
                                                        }
                                                    },
                                                    "hover": {
                                                        "fillOpacity": {
                                                            "value": 0.5
                                                        }
                                                    }
                                                }
                                            }
                                        ]
                                    },
                                    "showLoading": true,
                                    "showError": true,
                                    "dataRefs": [
                                        {
                                            "dataSourceId": "bigquery-api",
                                            "operationId": "jobs.query",
                                            "parameters": {
                                                "projectId": "nfs-maps",
                                                "prettyPrint": "false",
                                                "Authorization": "Bearer {bigquery-authorization}"
                                            },
                                            "requestBody": {
                                                "query": "SELECT date_trunc(date, MONTH) date, sum(num_neft_transactions) num_neft_transactions, sum(val_naira_billion_neft_transactions) val_naira_billion_neft_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date",
                                                "queryParameters": [
                                                    {
                                                        "parameterType": {
                                                            "type": "DATE"
                                                        },
                                                        "parameterValue": {
                                                            "value": "2011-01-01"
                                                        },
                                                        "name": "startDate"
                                                    },
                                                    {
                                                        "parameterType": {
                                                            "type": "DATE"
                                                        },
                                                        "parameterValue": {
                                                            "value": "2015-01-01"
                                                        },
                                                        "name": "endDate"
                                                    }
                                                ],
                                                "useLegacySql": "false",
                                                "parameterMode": "NAMED"
                                            },
                                            "displayValue": "num_neft_transactions"
                                        },
                                        {
                                            "dataSourceId": "bigquery-api",
                                            "operationId": "jobs.query",
                                            "parameters": {
                                                "projectId": "nfs-maps",
                                                "prettyPrint": "false",
                                                "Authorization": "Bearer {bigquery-authorization}"
                                            },
                                            "requestBody": {
                                                "query": "SELECT date_trunc(date, MONTH) date, sum(num_neft_transactions) num_neft_transactions, sum(val_naira_billion_neft_transactions) val_naira_billion_neft_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date",
                                                "queryParameters": [
                                                    {
                                                        "parameterType": {
                                                            "type": "DATE"
                                                        },
                                                        "parameterValue": {
                                                            "value": "2011-01-01"
                                                        },
                                                        "name": "startDate"
                                                    },
                                                    {
                                                        "parameterType": {
                                                            "type": "DATE"
                                                        },
                                                        "parameterValue": {
                                                            "value": "2015-01-01"
                                                        },
                                                        "name": "endDate"
                                                    }
                                                ],
                                                "useLegacySql": "false",
                                                "parameterMode": "NAMED"
                                            },
                                            "displayValue": "val_naira_billion_neft_transactions"
                                        }
                                    ]
                                },
                                {
                                    "id": "neft-control-group",
                                    "type": "group",
                                    "components": [
                                        {
                                            "id": "neft-segmented-button",
                                            "title": "Period",
                                            "type": "segmented-button",
                                            "options": {
                                                "segments": [
                                                    {
                                                        "title": "Monthly",
                                                        "actions": [
                                                            {
                                                                "componentId": "neft-table",
                                                                "key": "dataRefs[0].requestBody.query",
                                                                "value": "SELECT date_trunc(date, MONTH) date, sum(num_neft_transactions) num_neft_transactions, sum(val_naira_billion_neft_transactions) val_naira_billion_neft_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                            },
                                                            {
                                                                "componentId": "neft-graph",
                                                                "key": "dataRefs[0].requestBody.query",
                                                                "value": "SELECT date_trunc(date, MONTH) date, sum(num_neft_transactions) num_neft_transactions, sum(val_naira_billion_neft_transactions) val_naira_billion_neft_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                            },
                                                            {
                                                                "componentId": "neft-graph",
                                                                "key": "dataRefs[1].requestBody.query",
                                                                "value": "SELECT date_trunc(date, MONTH) date, sum(num_neft_transactions) num_neft_transactions, sum(val_naira_billion_neft_transactions) val_naira_billion_neft_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                            },
                                                            {
                                                                "componentId": "neft-date-control",
                                                                "key": "options.period",
                                                                "value": "month"
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "title": "Yearly",
                                                        "actions": [
                                                            {
                                                                "componentId": "neft-table",
                                                                "key": "dataRefs[0].requestBody.query",
                                                                "value": "SELECT date_trunc(date, YEAR) date, sum(num_neft_transactions) num_neft_transactions, sum(val_naira_billion_neft_transactions) val_naira_billion_neft_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                            },
                                                            {
                                                                "componentId": "neft-graph",
                                                                "key": "dataRefs[0].requestBody.query",
                                                                "value": "SELECT date_trunc(date, YEAR) date, sum(num_neft_transactions) num_neft_transactions, sum(val_naira_billion_neft_transactions) val_naira_billion_neft_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                            },
                                                            {
                                                                "componentId": "neft-graph",
                                                                "key": "dataRefs[1].requestBody.query",
                                                                "value": "SELECT date_trunc(date, YEAR) date, sum(num_neft_transactions) num_neft_transactions, sum(val_naira_billion_neft_transactions) val_naira_billion_neft_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                            },
                                                            {
                                                                "componentId": "neft-date-control",
                                                                "key": "options.period",
                                                                "value": "year"
                                                            }
                                                        ]
                                                    }
                                                ]
                                            }
                                        },
                                        {
                                            "id": "neft-date-control",
                                            "title": "Date Range",
                                            "type": "date-picker",
                                            "options": {
                                                "return": "range",
                                                "period": "month",
                                                "initialStart": "2011-01",
                                                "initialEnd": "2015-01",
                                                "actions": [
                                                    {
                                                        "componentId": "neft-graph",
                                                        "key": "dataRefs[0].requestBody.queryParameters[0].parameterValue.value",
                                                        "value": "{startDate}"
                                                    },
                                                    {
                                                        "componentId": "neft-graph",
                                                        "key": "dataRefs[0].requestBody.queryParameters[1].parameterValue.value",
                                                        "value": "{endDate}"
                                                    },
                                                    {
                                                        "componentId": "neft-table",
                                                        "key": "dataRefs[0].requestBody.queryParameters[0].parameterValue.value",
                                                        "value": "{startDate}"
                                                    },
                                                    {
                                                        "componentId": "neft-table",
                                                        "key": "dataRefs[0].requestBody.queryParameters[1].parameterValue.value",
                                                        "value": "{endDate}"
                                                    },
                                                    {
                                                        "componentId": "neft-graph",
                                                        "key": "dataRefs[1].requestBody.queryParameters[0].parameterValue.value",
                                                        "value": "{startDate}"
                                                    },
                                                    {
                                                        "componentId": "neft-graph",
                                                        "key": "dataRefs[1].requestBody.queryParameters[1].parameterValue.value",
                                                        "value": "{endDate}"
                                                    }
                                                ]
                                            }
                                        },
                                        {
                                            "id": "neft-dropdown",
                                            "title": "Calculations",
                                            "type": "dropdown",
                                            "options": {
                                                "initialSelectionIndex": 0,
                                                "icon": "fas fa-calculator",
                                                "selections": [
                                                    {
                                                        "title": "Absolute Value",
                                                        "actions": [
                                                            {
                                                                "componentId": "neft-graph",
                                                                "key": "dataRefs[0].calculation",
                                                                "value": null
                                                            },
                                                            {
                                                                "componentId": "neft-graph",
                                                                "key": "dataRefs[1].calculation",
                                                                "value": null
                                                            },
                                                            {
                                                                "componentId": "neft-graph",
                                                                "key": "options.mapping.ybar_value",
                                                                "value": "num_neft_transactions"
                                                            },
                                                            {
                                                                "componentId": "neft-graph",
                                                                "key": "options.mapping.yline_value",
                                                                "value": "val_naira_billion_neft_transactions"
                                                            },
                                                            {
                                                                "componentId": "neft-graph",
                                                                "key": "options.axes[1].format",
                                                                "value": ",.2r"
                                                            },
                                                            {
                                                                "componentId": "neft-graph",
                                                                "key": "options.axes[2].format",
                                                                "value": ",.2r"
                                                            },
                                                            {
                                                                "componentId": "neft-graph",
                                                                "key": "options.axes[1].labelPadding",
                                                                "value": 70
                                                            },
                                                            {
                                                                "componentId": "neft-graph",
                                                                "key": "options.marks[2].encode.update.fill.value",
                                                                "value": "#1c84c6"
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "title": "vs. prior period",
                                                        "actions": [
                                                            {
                                                                "componentId": "neft-graph",
                                                                "key": "dataRefs[0].calculation",
                                                                "value": "percentage_change_vs_prior_day"
                                                            },
                                                            {
                                                                "componentId": "neft-graph",
                                                                "key": "dataRefs[1].calculation",
                                                                "value": "percentage_change_vs_prior_day"
                                                            },
                                                            {
                                                                "componentId": "neft-graph",
                                                                "key": "options.mapping.ybar_value",
                                                                "value": "percentage_change_vs_prior_day"
                                                            },
                                                            {
                                                                "componentId": "neft-graph",
                                                                "key": "options.mapping.yline_value",
                                                                "value": "percentage_change_vs_prior_day"
                                                            },
                                                            {
                                                                "componentId": "neft-graph",
                                                                "key": "options.axes[1].format",
                                                                "value": "%"
                                                            },
                                                            {
                                                                "componentId": "neft-graph",
                                                                "key": "options.axes[2].format",
                                                                "value": "%"
                                                            },
                                                            {
                                                                "componentId": "neft-graph",
                                                                "key": "options.axes[1].labelPadding",
                                                                "value": 30
                                                            },
                                                            {
                                                                "componentId": "neft-graph",
                                                                "key": "options.marks[2].encode.update.fill.value",
                                                                "value": "#1c84c600"
                                                            }
                                                        ]
                                                    }
                                                ]
                                            }
                                        }
                                    ]
                                },
                                {
                                    "id": "neft-table",
                                    "title": "Individual Transactions",
                                    "type": "table",
                                    "options": {
                                        "pageLength": 10,
                                        "columns": [
                                            {
                                                "data": "date",
                                                "className": "dt-body-center",
                                                "columnName": "Date"
                                            },
                                            {
                                                "data": "num_neft_transactions",
                                                "className": "dt-body-right",
                                                "columnName": "Value"
                                            },
                                            {
                                                "data": "val_naira_billion_neft_transactions",
                                                "className": "dt-body-right",
                                                "columnName": "Number Transactions"
                                            }
                                        ]
                                    },
                                    "showLoading": true,
                                    "showError": true,
                                    "dataRefs": [                                                                               {
                                            "dataSourceId": "bigquery-api",
                                            "operationId": "jobs.query",
                                            "parameters": {
                                                "projectId": "nfs-maps",
                                                "prettyPrint": "false",
                                                "Authorization": "Bearer {bigquery-authorization}"
                                            },
                                            "requestBody": {
                                                "query": "SELECT date_trunc(date, MONTH) date, sum(num_neft_transactions) num_neft_transactions, sum(val_naira_billion_neft_transactions) val_naira_billion_neft_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date",
                                                "queryParameters": [
                                                    {
                                                        "parameterType": {
                                                            "type": "DATE"
                                                        },
                                                        "parameterValue": {
                                                            "value": "2011-01-01"
                                                        },
                                                        "name": "startDate"
                                                    },
                                                    {
                                                        "parameterType": {
                                                            "type": "DATE"
                                                        },
                                                        "parameterValue": {
                                                            "value": "2015-01-01"
                                                        },
                                                        "name": "endDate"
                                                    }
                                                ],
                                                "useLegacySql": "false",
                                                "parameterMode": "NAMED"
                                            }
                                        }
                                    ]
                                }
                            ]
                        }
                    },
                    {
                        "title": "mCash Transactions",
                        "visualization": {
                            "title": "Digital Transactions",
                            "type": "visualization",
                            "classes": "col-11 col-sm-11 col-md-9 col-lg-9",
                            "toolbar": [
                                {
                                    "icon": "fas fa-info-circle",
                                    "tooltip": "This is where you will learn about mCashs"
                                }
                            ],
                            "components": [
                                {
                                    "id": "mobile_payment-graph",
                                    "title": "mCash Summary",
                                    "type": "graph",
                                    "options": {
                                        "mapping": {
                                            "x_data": "0",
                                            "ybar_data": "0",
                                            "yline_data": "1",
                                            "x": "date",
                                            "ybar_value": "num_mobile_payment_transactions",
                                            "yline_value": "val_naira_billion_mobile_payment_transactions"
                                        },
                                        "$schema": "https://vega.github.io/schema/vega/v5.json",
                                        "width": 400,
                                        "height": 200,
                                        "padding": 5,
                                        "data": [],
                                        "signals": [
                                            {
                                                "name": "tooltip",
                                                "value": {},
                                                "on": [
                                                    {
                                                        "events": "rect:mouseover",
                                                        "update": "datum"
                                                    },
                                                    {
                                                        "events": "rect:mouseout",
                                                        "update": "{}"
                                                    }
                                                ]
                                            }
                                        ],
                                        "scales": [
                                            {
                                                "name": "xscale",
                                                "type": "band",
                                                "domain": {
                                                    "data": "{x_data}",
                                                    "field": "{x}"
                                                },
                                                "range": "width",
                                                "padding": 0.5,
                                                "round": true
                                            },
                                            {
                                                "name": "ybar",
                                                "domain": {
                                                    "data": "{ybar_data}",
                                                    "field": "{ybar_value}"
                                                },
                                                "nice": true,
                                                "range": "height"
                                            },
                                            {
                                                "name": "yline",
                                                "domain": {
                                                    "data": "{yline_data}",
                                                    "field": "{yline_value}"
                                                },
                                                "nice": true,
                                                "range": "height"
                                            }
                                        ],
                                        "resolve": {
                                            "scale": {
                                                "yline": "independent"
                                            }
                                        },
                                        "axes": [
                                            {
                                                "orient": "bottom",
                                                "scale": "xscale",
                                                "labelAngle": -60,
                                                "labelPadding": 5,
                                                "labelAlign": "right",
                                                "labelFont": "sans-serif",
                                                "labelColor": "#676a6c",
                                                "ticks": false,
                                                "domainOpacity": 0
                                            },
                                            {
                                                "orient": "right",
                                                "scale": "ybar",
                                                "labelAlign": "right",
                                                "labelPadding": 70,
                                                "tickCount": 6,
                                                "labelFont": "sans-serif",
                                                "labelColor": "#676a6c",
                                                "ticks": false,
                                                "domainOpacity": 0,
                                                "format": ",.2r",
                                                "title": "Value of Transactions",
                                                "titlePadding": 10,
                                                "titleColor": "#85C5A6"
                                            },
                                            {
                                                "orient": "left",
                                                "scale": "yline",
                                                "labelAlign": "right",
                                                "tickCount": 6,
                                                "labelFont": "sans-serif",
                                                "labelColor": "#676a6c",
                                                "ticks": false,
                                                "domainOpacity": 0,
                                                "title": "Number of Transactions",
                                                "titlePadding": 10,
                                                "titleColor": "rgb(28, 132, 198)"
                                            }
                                        ],
                                        "marks": [
                                            {
                                                "type": "rect",
                                                "from": {
                                                    "data": "{ybar_data}"
                                                },
                                                "encode": {
                                                    "enter": {
                                                        "x": {
                                                            "scale": "xscale",
                                                            "field": "{x}"
                                                        },
                                                        "width": {
                                                            "scale": "xscale",
                                                            "band": 1
                                                        },
                                                        "y": {
                                                            "scale": "ybar",
                                                            "field": "{ybar_value}"
                                                        },
                                                        "y2": {
                                                            "scale": "ybar",
                                                            "value": 0
                                                        }
                                                    },
                                                    "update": {
                                                        "fill": {
                                                            "value": "#BCE0D5"
                                                        }
                                                    },
                                                    "hover": {
                                                        "fill": {
                                                            "value": "red"
                                                        }
                                                    }
                                                }
                                            },
                                            {
                                                "type": "text",
                                                "encode": {
                                                    "enter": {
                                                        "align": {
                                                            "value": "center"
                                                        },
                                                        "baseline": {
                                                            "value": "bottom"
                                                        },
                                                        "fill": {
                                                            "value": "#333"
                                                        }
                                                    },
                                                    "update": {
                                                        "x": {
                                                            "scale": "xscale",
                                                            "signal": "tooltip.date",
                                                            "band": 0.5
                                                        },
                                                        "y": {
                                                            "scale": "ybar",
                                                            "signal": "tooltip.{ybar_value}",
                                                            "offset": -2
                                                        },
                                                        "text": {
                                                            "signal": "tooltip.{ybar_value}"
                                                        },
                                                        "fillOpacity": [
                                                            {
                                                                "test": "datum === tooltip",
                                                                "value": 0
                                                            },
                                                            {
                                                                "value": 1
                                                            }
                                                        ]
                                                    }
                                                }
                                            },
                                            {
                                                "type": "area",
                                                "from": {
                                                    "data": "{yline_data}"
                                                },
                                                "encode": {
                                                    "enter": {
                                                        "x": {
                                                            "scale": "xscale",
                                                            "field": "{x}",
                                                            "offset": 0
                                                        },
                                                        "y": {
                                                            "scale": "yline",
                                                            "field": "{yline_value}"
                                                        },
                                                        "y2": {
                                                            "scale": "yline",
                                                            "value": 0
                                                        }
                                                    },
                                                    "update": {
                                                        "fillOpacity": {
                                                            "value": 0.4
                                                        },
                                                        "fill": {
                                                            "value": "#1c84c6"
                                                        }
                                                    },
                                                    "hover": {}
                                                }
                                            },
                                            {
                                                "type": "line",
                                                "from": {
                                                    "data": "{yline_data}"
                                                },
                                                "encode": {
                                                    "enter": {
                                                        "x": {
                                                            "scale": "xscale",
                                                            "field": "{x}",
                                                            "offset": 0
                                                        },
                                                        "y": {
                                                            "scale": "yline",
                                                            "field": "{yline_value}"
                                                        },
                                                        "y2": {
                                                            "scale": "yline",
                                                            "value": 0
                                                        }
                                                    },
                                                    "update": {
                                                        "fillOpacity": {
                                                            "value": 0.5
                                                        }
                                                    },
                                                    "hover": {
                                                        "fillOpacity": {
                                                            "value": 0.5
                                                        }
                                                    }
                                                }
                                            }
                                        ]
                                    },
                                    "showLoading": true,
                                    "showError": true,
                                    "dataRefs": [
                                        {
                                            "dataSourceId": "bigquery-api",
                                            "operationId": "jobs.query",
                                            "parameters": {
                                                "projectId": "nfs-maps",
                                                "prettyPrint": "false",
                                                "Authorization": "Bearer {bigquery-authorization}"
                                            },
                                            "requestBody": {
                                                "query": "SELECT date_trunc(date, MONTH) date, sum(num_mobile_payment_transactions) num_mobile_payment_transactions, sum(val_naira_billion_mobile_payment_transactions) val_naira_billion_mobile_payment_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date",
                                                "queryParameters": [
                                                    {
                                                        "parameterType": {
                                                            "type": "DATE"
                                                        },
                                                        "parameterValue": {
                                                            "value": "2011-01-01"
                                                        },
                                                        "name": "startDate"
                                                    },
                                                    {
                                                        "parameterType": {
                                                            "type": "DATE"
                                                        },
                                                        "parameterValue": {
                                                            "value": "2015-01-01"
                                                        },
                                                        "name": "endDate"
                                                    }
                                                ],
                                                "useLegacySql": "false",
                                                "parameterMode": "NAMED"
                                            },
                                            "displayValue": "num_mobile_payment_transactions"
                                        },
                                        {
                                            "dataSourceId": "bigquery-api",
                                            "operationId": "jobs.query",
                                            "parameters": {
                                                "projectId": "nfs-maps",
                                                "prettyPrint": "false",
                                                "Authorization": "Bearer {bigquery-authorization}"
                                            },
                                            "requestBody": {
                                                "query": "SELECT date_trunc(date, MONTH) date, sum(num_mobile_payment_transactions) num_mobile_payment_transactions, sum(val_naira_billion_mobile_payment_transactions) val_naira_billion_mobile_payment_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date",
                                                "queryParameters": [
                                                    {
                                                        "parameterType": {
                                                            "type": "DATE"
                                                        },
                                                        "parameterValue": {
                                                            "value": "2011-01-01"
                                                        },
                                                        "name": "startDate"
                                                    },
                                                    {
                                                        "parameterType": {
                                                            "type": "DATE"
                                                        },
                                                        "parameterValue": {
                                                            "value": "2015-01-01"
                                                        },
                                                        "name": "endDate"
                                                    }
                                                ],
                                                "useLegacySql": "false",
                                                "parameterMode": "NAMED"
                                            },
                                            "displayValue": "val_naira_billion_mobile_payment_transactions"
                                        }
                                    ]
                                },
                                {
                                    "id": "mobile_payment-control-group",
                                    "type": "group",
                                    "components": [
                                        {
                                            "id": "mobile_payment-segmented-button",
                                            "title": "Period",
                                            "type": "segmented-button",
                                            "options": {
                                                "segments": [
                                                    {
                                                        "title": "Monthly",
                                                        "actions": [
                                                            {
                                                                "componentId": "mobile_payment-table",
                                                                "key": "dataRefs[0].requestBody.query",
                                                                "value": "SELECT date_trunc(date, MONTH) date, sum(num_mobile_payment_transactions) num_mobile_payment_transactions, sum(val_naira_billion_mobile_payment_transactions) val_naira_billion_mobile_payment_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                            },
                                                            {
                                                                "componentId": "mobile_payment-graph",
                                                                "key": "dataRefs[0].requestBody.query",
                                                                "value": "SELECT date_trunc(date, MONTH) date, sum(num_mobile_payment_transactions) num_mobile_payment_transactions, sum(val_naira_billion_mobile_payment_transactions) val_naira_billion_mobile_payment_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                            },
                                                            {
                                                                "componentId": "mobile_payment-graph",
                                                                "key": "dataRefs[1].requestBody.query",
                                                                "value": "SELECT date_trunc(date, MONTH) date, sum(num_mobile_payment_transactions) num_mobile_payment_transactions, sum(val_naira_billion_mobile_payment_transactions) val_naira_billion_mobile_payment_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                            },
                                                            {
                                                                "componentId": "mobile_payment-date-control",
                                                                "key": "options.period",
                                                                "value": "month"
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "title": "Yearly",
                                                        "actions": [
                                                            {
                                                                "componentId": "mobile_payment-table",
                                                                "key": "dataRefs[0].requestBody.query",
                                                                "value": "SELECT date_trunc(date, YEAR) date, sum(num_mobile_payment_transactions) num_mobile_payment_transactions, sum(val_naira_billion_mobile_payment_transactions) val_naira_billion_mobile_payment_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                            },
                                                            {
                                                                "componentId": "mobile_payment-graph",
                                                                "key": "dataRefs[0].requestBody.query",
                                                                "value": "SELECT date_trunc(date, YEAR) date, sum(num_mobile_payment_transactions) num_mobile_payment_transactions, sum(val_naira_billion_mobile_payment_transactions) val_naira_billion_mobile_payment_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                            },
                                                            {
                                                                "componentId": "mobile_payment-graph",
                                                                "key": "dataRefs[1].requestBody.query",
                                                                "value": "SELECT date_trunc(date, YEAR) date, sum(num_mobile_payment_transactions) num_mobile_payment_transactions, sum(val_naira_billion_mobile_payment_transactions) val_naira_billion_mobile_payment_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date"
                                                            },
                                                            {
                                                                "componentId": "mobile_payment-date-control",
                                                                "key": "options.period",
                                                                "value": "year"
                                                            }
                                                        ]
                                                    }
                                                ]
                                            }
                                        },
                                        {
                                            "id": "mobile_payment-date-control",
                                            "title": "Date Range",
                                            "type": "date-picker",
                                            "options": {
                                                "return": "range",
                                                "period": "month",
                                                "initialStart": "2011-01",
                                                "initialEnd": "2015-01",
                                                "actions": [
                                                    {
                                                        "componentId": "mobile_payment-graph",
                                                        "key": "dataRefs[0].requestBody.queryParameters[0].parameterValue.value",
                                                        "value": "{startDate}"
                                                    },
                                                    {
                                                        "componentId": "mobile_payment-graph",
                                                        "key": "dataRefs[0].requestBody.queryParameters[1].parameterValue.value",
                                                        "value": "{endDate}"
                                                    },
                                                    {
                                                        "componentId": "mobile_payment-table",
                                                        "key": "dataRefs[0].requestBody.queryParameters[0].parameterValue.value",
                                                        "value": "{startDate}"
                                                    },
                                                    {
                                                        "componentId": "mobile_payment-table",
                                                        "key": "dataRefs[0].requestBody.queryParameters[1].parameterValue.value",
                                                        "value": "{endDate}"
                                                    },
                                                    {
                                                        "componentId": "mobile_payment-graph",
                                                        "key": "dataRefs[1].requestBody.queryParameters[0].parameterValue.value",
                                                        "value": "{startDate}"
                                                    },
                                                    {
                                                        "componentId": "mobile_payment-graph",
                                                        "key": "dataRefs[1].requestBody.queryParameters[1].parameterValue.value",
                                                        "value": "{endDate}"
                                                    }
                                                ]
                                            }
                                        },
                                        {
                                            "id": "mobile_payment-dropdown",
                                            "title": "Calculations",
                                            "type": "dropdown",
                                            "options": {
                                                "initialSelectionIndex": 0,
                                                "icon": "fas fa-calculator",
                                                "selections": [
                                                    {
                                                        "title": "Absolute Value",
                                                        "actions": [
                                                            {
                                                                "componentId": "mobile_payment-graph",
                                                                "key": "dataRefs[0].calculation",
                                                                "value": null
                                                            },
                                                            {
                                                                "componentId": "mobile_payment-graph",
                                                                "key": "dataRefs[1].calculation",
                                                                "value": null
                                                            },
                                                            {
                                                                "componentId": "mobile_payment-graph",
                                                                "key": "options.mapping.ybar_value",
                                                                "value": "num_mobile_payment_transactions"
                                                            },
                                                            {
                                                                "componentId": "mobile_payment-graph",
                                                                "key": "options.mapping.yline_value",
                                                                "value": "val_naira_billion_mobile_payment_transactions"
                                                            },
                                                            {
                                                                "componentId": "mobile_payment-graph",
                                                                "key": "options.axes[1].format",
                                                                "value": ",.2r"
                                                            },
                                                            {
                                                                "componentId": "mobile_payment-graph",
                                                                "key": "options.axes[2].format",
                                                                "value": ",.2r"
                                                            },
                                                            {
                                                                "componentId": "mobile_payment-graph",
                                                                "key": "options.axes[1].labelPadding",
                                                                "value": 70
                                                            },
                                                            {
                                                                "componentId": "mobile_payment-graph",
                                                                "key": "options.marks[2].encode.update.fill.value",
                                                                "value": "#1c84c6"
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "title": "vs. prior period",
                                                        "actions": [
                                                            {
                                                                "componentId": "mobile_payment-graph",
                                                                "key": "dataRefs[0].calculation",
                                                                "value": "percentage_change_vs_prior_day"
                                                            },
                                                            {
                                                                "componentId": "mobile_payment-graph",
                                                                "key": "dataRefs[1].calculation",
                                                                "value": "percentage_change_vs_prior_day"
                                                            },
                                                            {
                                                                "componentId": "mobile_payment-graph",
                                                                "key": "options.mapping.ybar_value",
                                                                "value": "percentage_change_vs_prior_day"
                                                            },
                                                            {
                                                                "componentId": "mobile_payment-graph",
                                                                "key": "options.mapping.yline_value",
                                                                "value": "percentage_change_vs_prior_day"
                                                            },
                                                            {
                                                                "componentId": "mobile_payment-graph",
                                                                "key": "options.axes[1].format",
                                                                "value": "%"
                                                            },
                                                            {
                                                                "componentId": "mobile_payment-graph",
                                                                "key": "options.axes[2].format",
                                                                "value": "%"
                                                            },
                                                            {
                                                                "componentId": "mobile_payment-graph",
                                                                "key": "options.axes[1].labelPadding",
                                                                "value": 30
                                                            },
                                                            {
                                                                "componentId": "mobile_payment-graph",
                                                                "key": "options.marks[2].encode.update.fill.value",
                                                                "value": "#1c84c600"
                                                            }
                                                        ]
                                                    }
                                                ]
                                            }
                                        }
                                    ]
                                },
                                {
                                    "id": "mobile_payment-table",
                                    "title": "Individual Transactions",
                                    "type": "table",
                                    "options": {
                                        "pageLength": 10,
                                        "columns": [
                                            {
                                                "data": "date",
                                                "className": "dt-body-center",
                                                "columnName": "Date"
                                            },
                                            {
                                                "data": "num_mobile_payment_transactions",
                                                "className": "dt-body-right",
                                                "columnName": "Value"
                                            },
                                            {
                                                "data": "val_naira_billion_mobile_payment_transactions",
                                                "className": "dt-body-right",
                                                "columnName": "Number Transactions"
                                            }
                                        ]
                                    },
                                    "showLoading": true,
                                    "showError": true,
                                    "dataRefs": [                                                                               {
                                            "dataSourceId": "bigquery-api",
                                            "operationId": "jobs.query",
                                            "parameters": {
                                                "projectId": "nfs-maps",
                                                "prettyPrint": "false",
                                                "Authorization": "Bearer {bigquery-authorization}"
                                            },
                                            "requestBody": {
                                                "query": "SELECT date_trunc(date, MONTH) date, sum(num_mobile_payment_transactions) num_mobile_payment_transactions, sum(val_naira_billion_mobile_payment_transactions) val_naira_billion_mobile_payment_transactions FROM nigeria_demo.payment_system_stats WHERE date >= @startDate and date <= @endDate GROUP BY 1 ORDER BY date",
                                                "queryParameters": [
                                                    {
                                                        "parameterType": {
                                                            "type": "DATE"
                                                        },
                                                        "parameterValue": {
                                                            "value": "2011-01-01"
                                                        },
                                                        "name": "startDate"
                                                    },
                                                    {
                                                        "parameterType": {
                                                            "type": "DATE"
                                                        },
                                                        "parameterValue": {
                                                            "value": "2015-01-01"
                                                        },
                                                        "name": "endDate"
                                                    }
                                                ],
                                                "useLegacySql": "false",
                                                "parameterMode": "NAMED"
                                            }
                                        }
                                    ]
                                }
                            ]
                        }
                    }
                ]
            }
        ]
    }
]